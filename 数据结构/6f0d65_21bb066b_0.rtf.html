<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd"><html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"><head><style>/*<![CDATA[*/
table{border: 1px solid gray;} td{border: 1px dotted gray;} p{margin: 3px 0 3px 0; padding: 0;} #ID_Footer{font-size: small; font-style: italic;} a{padding-right: 20px; background: URL(./icon_newwin.gif) no-repeat center right;} a[href ^= "mailto:"]{padding: 0 20px 0 0; background: URL(./icon_email.gif) no-repeat center right;} a[href ^= "nyf:"]{padding: 0 20px 0 0; background: URL(./icon_jump.gif) no-repeat center right;} 
/*]]>*/</style><title>显式锁</title></head><body>
<div><span style="font-family: Consolas; font-size: 11pt; font-weight: bold; color: #7f0055; line-height: 140%">import</span><span style="font-family: Consolas; font-size: 11pt; color: #000000; line-height: 140%"> java.util.concurrent.locks.Lock;</span></div>
<div><span style="font-family: Consolas; font-size: 11pt; font-weight: bold; color: #7f0055; line-height: 140%">import</span><span style="font-family: Consolas; font-size: 11pt; color: #000000; line-height: 140%"> java.util.concurrent.locks.ReentrantLock;</span></div>
<div><span style="font-family: Consolas; font-size: 11pt; color: #3f5fbf; line-height: 140%">/**</span></div>
<div><span style="font-family: Consolas; font-size: 11pt; color: #3f5fbf; line-height: 140%"> * </span><span style="font-family: 微软雅黑; font-size: 11pt; color: #3f5fbf; line-height: 140%">线程同步的方案</span><span style="font-family: Consolas; font-size: 11pt; color: #3f5fbf; line-height: 140%">3</span><span style="font-family: 微软雅黑; font-size: 11pt; color: #3f5fbf; line-height: 140%">：</span><span style="font-family: Consolas; font-size: 11pt; color: #3f5fbf; line-height: 140%">Lock</span></div>
<div><span style="font-family: Consolas; font-size: 11pt; color: #3f5fbf; line-height: 140%"> *  &nbsp; &nbsp; &nbsp; &nbsp;1.JDK1.5</span><span style="font-family: 微软雅黑; font-size: 11pt; color: #3f5fbf; line-height: 140%">后新增的功能</span></div>
<div><span style="font-family: Consolas; font-size: 11pt; color: #3f5fbf; line-height: 140%"> * &nbsp;2.</span><span style="font-family: 微软雅黑; font-size: 11pt; color: #3f5fbf; line-height: 140%">如果同步代码有异常，要将</span><span style="font-family: Consolas; font-size: 11pt; color: #3f5fbf; line-height: 140%">unlock()</span><span style="font-family: 微软雅黑; font-size: 11pt; color: #3f5fbf; line-height: 140%">写入</span><span style="font-family: Consolas; font-size: 11pt; color: #3f5fbf; line-height: 140%">finally</span><span style="font-family: 微软雅黑; font-size: 11pt; color: #3f5fbf; line-height: 140%">语句块</span></div>
<div><span style="font-family: Consolas; font-size: 11pt; color: #3f5fbf; line-height: 140%"> * &nbsp;3.</span><span style="font-family: 微软雅黑; font-size: 11pt; color: #3f5fbf; line-height: 140%">与采用</span><span style="font-family: Consolas; font-size: 11pt; color: #3f5fbf; line-height: 140%">synchronized</span><span style="font-family: 微软雅黑; font-size: 11pt; color: #3f5fbf; line-height: 140%">相比，</span><span style="font-family: Consolas; font-size: 11pt; color: #3f5fbf; line-height: 140%">lock</span><span style="font-family: 微软雅黑; font-size: 11pt; color: #3f5fbf; line-height: 140%">可以提供多种锁的方案，更加灵活</span></div>
<div><span style="font-family: Consolas; font-size: 11pt; color: #3f5fbf; line-height: 140%"> * &nbsp;</span></div>
<div><span style="font-family: Consolas; font-size: 11pt; color: #3f5fbf; line-height: 140%"> * &nbsp;java.util.concurrent.lock </span><span style="font-family: 微软雅黑; font-size: 11pt; color: #3f5fbf; line-height: 140%">中的</span><span style="font-family: Consolas; font-size: 11pt; color: #3f5fbf; line-height: 140%"> Lock </span><span style="font-family: 微软雅黑; font-size: 11pt; color: #3f5fbf; line-height: 140%">框架是锁定的一个抽象，</span></div>
<div><span style="font-family: Consolas; font-size: 11pt; color: #3f5fbf; line-height: 140%"> * &nbsp;</span><span style="font-family: 微软雅黑; font-size: 11pt; color: #3f5fbf; line-height: 140%">它允许把锁定的实现作为</span><span style="font-family: Consolas; font-size: 11pt; color: #3f5fbf; line-height: 140%"> Java </span><span style="font-family: 微软雅黑; font-size: 11pt; color: #3f5fbf; line-height: 140%">类，而不是作为语言的特性来实现。</span></div>
<div><span style="font-family: Consolas; font-size: 11pt; color: #3f5fbf; line-height: 140%"> * &nbsp;</span><span style="font-family: 微软雅黑; font-size: 11pt; color: #3f5fbf; line-height: 140%">这就为</span><span style="font-family: Consolas; font-size: 11pt; color: #3f5fbf; line-height: 140%"> Lock </span><span style="font-family: 微软雅黑; font-size: 11pt; color: #3f5fbf; line-height: 140%">的多种实现留下了空间，各种实现可能有不同的调度算法、性能特性或者锁定语义。</span></div>
<div><span style="font-family: Consolas; font-size: 11pt; color: #3f5fbf; line-height: 140%"> * &nbsp;</span></div>
<div><span style="font-family: Consolas; font-size: 11pt; color: #3f5fbf; line-height: 140%"> * &nbsp; ReentrantLock </span><span style="font-family: 微软雅黑; font-size: 11pt; color: #3f5fbf; line-height: 140%">类实现了</span><span style="font-family: Consolas; font-size: 11pt; color: #3f5fbf; line-height: 140%"> Lock </span><span style="font-family: 微软雅黑; font-size: 11pt; color: #3f5fbf; line-height: 140%">，它拥有与</span><span style="font-family: Consolas; font-size: 11pt; color: #3f5fbf; line-height: 140%"> synchronized </span><span style="font-family: 微软雅黑; font-size: 11pt; color: #3f5fbf; line-height: 140%">相同的并发性和内存语义，</span></div>
<div><span style="font-family: Consolas; font-size: 11pt; color: #3f5fbf; line-height: 140%"> * &nbsp; </span><span style="font-family: 微软雅黑; font-size: 11pt; color: #3f5fbf; line-height: 140%">但是添加了类似锁投票、定时锁等候和可中断锁等候的一些特性。</span></div>
<div><span style="font-family: Consolas; font-size: 11pt; color: #3f5fbf; line-height: 140%"> * &nbsp; </span><span style="font-family: 微软雅黑; font-size: 11pt; color: #3f5fbf; line-height: 140%">此外，它还提供了在激烈争用情况下更佳的性能。</span></div>
<div><span style="font-family: Consolas; font-size: 11pt; color: #3f5fbf; line-height: 140%"> * &nbsp; </span></div>
<div><span style="font-family: Consolas; font-size: 11pt; color: #3f5fbf; line-height: 140%"> * &nbsp; Lock</span><span style="font-family: 微软雅黑; font-size: 11pt; color: #3f5fbf; line-height: 140%">和</span><span style="font-family: Consolas; font-size: 11pt; color: #3f5fbf; line-height: 140%">synchronized</span><span style="font-family: 微软雅黑; font-size: 11pt; color: #3f5fbf; line-height: 140%">的区别</span></div>
<div><span style="font-family: Consolas; font-size: 11pt; color: #3f5fbf; line-height: 140%"> * &nbsp; 1.Lock</span><span style="font-family: 微软雅黑; font-size: 11pt; color: #3f5fbf; line-height: 140%">是显式锁（手动开启和关闭锁，别忘记关闭锁），</span><span style="font-family: Consolas; font-size: 11pt; color: #3f5fbf; line-height: 140%">synchronized</span><span style="font-family: 微软雅黑; font-size: 11pt; color: #3f5fbf; line-height: 140%">是隐式锁</span></div>
<div><span style="font-family: Consolas; font-size: 11pt; color: #3f5fbf; line-height: 140%"> * &nbsp; 2.Lock</span><span style="font-family: 微软雅黑; font-size: 11pt; color: #3f5fbf; line-height: 140%">只有代码块锁，</span><span style="font-family: Consolas; font-size: 11pt; color: #3f5fbf; line-height: 140%">synchronized</span><span style="font-family: 微软雅黑; font-size: 11pt; color: #3f5fbf; line-height: 140%">有代码块锁和方法锁</span></div>
<div><span style="font-family: Consolas; font-size: 11pt; color: #3f5fbf; line-height: 140%"> * &nbsp; 3.</span><span style="font-family: 微软雅黑; font-size: 11pt; color: #3f5fbf; line-height: 140%">使用</span><span style="font-family: Consolas; font-size: 11pt; color: #3f5fbf; line-height: 140%">Lock</span><span style="font-family: 微软雅黑; font-size: 11pt; color: #3f5fbf; line-height: 140%">锁，</span><span style="font-family: Consolas; font-size: 11pt; color: #3f5fbf; line-height: 140%">JVM</span><span style="font-family: 微软雅黑; font-size: 11pt; color: #3f5fbf; line-height: 140%">将花费较少的时间来调度线程，性能更好。并且具有更好的扩展性（提供更多的子类）</span></div>
<div><span style="font-family: Consolas; font-size: 11pt; color: #3f5fbf; line-height: 140%"> * &nbsp; </span></div>
<div><span style="font-family: Consolas; font-size: 11pt; color: #3f5fbf; line-height: 140%"> * &nbsp; </span><span style="font-family: 微软雅黑; font-size: 11pt; color: #3f5fbf; line-height: 140%">优先使用顺序：</span><span style="font-family: Consolas; font-size: 11pt; color: #3f5fbf; line-height: 140%">Lock</span><span style="font-family: Consolas; font-size: 11pt; color: #7f7f9f; line-height: 140%">----</span><span style="font-family: 微软雅黑; font-size: 11pt; color: #3f5fbf; line-height: 140%">同步代码块（已经进入了方法体，分配了相应资源）</span><span style="font-family: Consolas; font-size: 11pt; color: #7f7f9f; line-height: 140%">----</span><span style="font-family: 微软雅黑; font-size: 11pt; color: #3f5fbf; line-height: 140%">同步方法（在方法体之外）</span></div>
<div><span style="font-family: Consolas; font-size: 11pt; color: #3f5fbf; line-height: 140%"> * &nbsp; </span></div>
<div><span style="font-family: Consolas; font-size: 11pt; color: #3f5fbf; line-height: 140%"> * &nbsp; </span></div>
<div><span style="font-family: Consolas; font-size: 11pt; color: #3f5fbf; line-height: 140%"> * </span><span style="font-family: Consolas; font-size: 11pt; font-weight: bold; color: #7f9fbf; line-height: 140%">@author</span><span style="font-family: Consolas; font-size: 11pt; color: #3f5fbf; line-height: 140%"> Administrator</span></div>
<div><span style="font-family: Consolas; font-size: 11pt; color: #3f5fbf; line-height: 140%"> *</span></div>
<div><span style="font-family: Consolas; font-size: 11pt; color: #3f5fbf; line-height: 140%"> */</span></div>
<div><span style="font-family: Consolas; font-size: 11pt; font-weight: bold; color: #7f0055; line-height: 140%">public</span><span style="font-family: Consolas; font-size: 11pt; color: #000000; line-height: 140%"> </span><span style="font-family: Consolas; font-size: 11pt; font-weight: bold; color: #7f0055; line-height: 140%">class</span><span style="font-family: Consolas; font-size: 11pt; color: #000000; line-height: 140%"> AccountRunnable </span><span style="font-family: Consolas; font-size: 11pt; font-weight: bold; color: #7f0055; line-height: 140%">implements</span><span style="font-family: Consolas; font-size: 11pt; color: #000000; line-height: 140%"> Runnable{</span></div>
<div><br /></div>
<div><span style="font-family: Consolas; font-size: 11pt; color: #000000; line-height: 140%"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-family: Consolas; font-size: 11pt; font-weight: bold; color: #7f0055; line-height: 140%">private</span><span style="font-family: Consolas; font-size: 11pt; color: #000000; line-height: 140%"> Account </span><span style="font-family: Consolas; font-size: 11pt; color: #0000c0; line-height: 140%">account</span><span style="font-family: Consolas; font-size: 11pt; color: #000000; line-height: 140%"> = </span><span style="font-family: Consolas; font-size: 11pt; font-weight: bold; color: #7f0055; line-height: 140%">new</span><span style="font-family: Consolas; font-size: 11pt; color: #000000; line-height: 140%"> Account();</span></div>
<div><span style="font-family: Consolas; font-size: 11pt; color: #000000; line-height: 140%"> &nbsp; &nbsp; &nbsp; &nbsp;</span></div>
<div><span style="font-family: Consolas; font-size: 11pt; color: #000000; line-height: 140%"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-family: Consolas; font-size: 11pt; color: #3f7f5f; line-height: 140%">//</span><span style="font-family: 微软雅黑; font-size: 11pt; color: #3f7f5f; line-height: 140%">买一把锁</span></div>
<div><span style="font-family: Consolas; font-size: 11pt; color: #000000; line-height: 140%"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-family: Consolas; font-size: 11pt; font-weight: bold; color: #7f0055; line-height: 140%">private</span><span style="font-family: Consolas; font-size: 11pt; color: #000000; line-height: 140%"> Lock </span><span style="font-family: Consolas; font-size: 11pt; color: #0000c0; line-height: 140%">lock</span><span style="font-family: Consolas; font-size: 11pt; color: #000000; line-height: 140%"> &nbsp;= </span><span style="font-family: Consolas; font-size: 11pt; font-weight: bold; color: #7f0055; line-height: 140%">new</span><span style="font-family: Consolas; font-size: 11pt; color: #000000; line-height: 140%"> ReentrantLock();</span></div>
<div><span style="font-family: Consolas; font-size: 11pt; color: #000000; line-height: 140%"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-family: Consolas; font-size: 11pt; color: #646464; line-height: 140%">@Override</span></div>
<div><span style="font-family: Consolas; font-size: 11pt; color: #000000; line-height: 140%"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-family: Consolas; font-size: 11pt; font-weight: bold; color: #7f0055; line-height: 140%">public</span><span style="font-family: Consolas; font-size: 11pt; color: #000000; line-height: 140%"> </span><span style="font-family: Consolas; font-size: 11pt; font-weight: bold; color: #7f0055; line-height: 140%">void</span><span style="font-family: Consolas; font-size: 11pt; color: #000000; line-height: 140%"> run() { &nbsp; &nbsp; &nbsp; &nbsp;</span></div>
<div><span style="font-family: Consolas; font-size: 11pt; color: #000000; line-height: 140%"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-family: Consolas; font-size: 11pt; color: #3f7f5f; line-height: 140%">//</span><span style="font-family: 微软雅黑; font-size: 11pt; color: #3f7f5f; line-height: 140%">省略</span><span style="font-family: Consolas; font-size: 11pt; color: #3f7f5f; line-height: 140%">50</span><span style="font-family: 微软雅黑; font-size: 11pt; color: #3f7f5f; line-height: 140%">句</span></div>
<div><span style="font-family: Consolas; font-size: 11pt; color: #000000; line-height: 140%"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span></div>
<div><span style="font-family: Consolas; font-size: 11pt; color: #000000; line-height: 140%"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-family: Consolas; font-size: 11pt; font-weight: bold; color: #7f0055; line-height: 140%">try</span><span style="font-family: Consolas; font-size: 11pt; color: #000000; line-height: 140%">{ &nbsp; &nbsp; &nbsp; &nbsp;</span></div>
<div><span style="font-family: Consolas; font-size: 11pt; color: #000000; line-height: 140%"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-family: Consolas; font-size: 11pt; color: #3f7f5f; line-height: 140%">//</span><span style="font-family: 微软雅黑; font-size: 11pt; color: #3f7f5f; line-height: 140%">显式加锁</span></div>
<div><span style="font-family: Consolas; font-size: 11pt; color: #000000; line-height: 140%"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-family: Consolas; font-size: 11pt; color: #0000c0; line-height: 140%">lock</span><span style="font-family: Consolas; font-size: 11pt; color: #000000; line-height: 140%">.lock();</span></div>
<div><span style="font-family: Consolas; font-size: 11pt; color: #000000; line-height: 140%"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-family: Consolas; font-size: 11pt; font-weight: bold; color: #7f0055; line-height: 140%">if</span><span style="font-family: Consolas; font-size: 11pt; color: #000000; line-height: 140%">(</span><span style="font-family: Consolas; font-size: 11pt; color: #0000c0; line-height: 140%">account</span><span style="font-family: Consolas; font-size: 11pt; color: #000000; line-height: 140%">.getBalance()&gt;=400){</span><span style="font-family: Consolas; font-size: 11pt; color: #3f7f5f; line-height: 140%">//</span><span style="font-family: 微软雅黑; font-size: 11pt; color: #3f7f5f; line-height: 140%">余额足够，就取款并提示</span><span style="font-family: Consolas; font-size: 11pt; color: #3f7f5f; line-height: 140%"> 600</span></div>
<div><span style="font-family: Consolas; font-size: 11pt; color: #000000; line-height: 140%"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-family: Consolas; font-size: 11pt; font-weight: bold; color: #7f0055; line-height: 140%">try</span><span style="font-family: Consolas; font-size: 11pt; color: #000000; line-height: 140%"> {</span></div>
<div><span style="font-family: Consolas; font-size: 11pt; color: #000000; line-height: 140%"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Thread.</span><span style="font-family: Consolas; font-size: 11pt; font-style: italic; color: #000000; line-height: 140%">sleep</span><span style="font-family: Consolas; font-size: 11pt; color: #000000; line-height: 140%">(1);</span></div>
<div><span style="font-family: Consolas; font-size: 11pt; color: #000000; line-height: 140%"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;} </span><span style="font-family: Consolas; font-size: 11pt; font-weight: bold; color: #7f0055; line-height: 140%">catch</span><span style="font-family: Consolas; font-size: 11pt; color: #000000; line-height: 140%"> (InterruptedException </span><span style="font-family: Consolas; font-size: 11pt; color: #6a3e3e; line-height: 140%">e</span><span style="font-family: Consolas; font-size: 11pt; color: #000000; line-height: 140%">) {</span></div>
<div><span style="font-family: Consolas; font-size: 11pt; color: #000000; line-height: 140%"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-family: Consolas; font-size: 11pt; color: #6a3e3e; line-height: 140%">e</span><span style="font-family: Consolas; font-size: 11pt; color: #000000; line-height: 140%">.printStackTrace();</span></div>
<div><span style="font-family: Consolas; font-size: 11pt; color: #000000; line-height: 140%"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}</span></div>
<div><span style="font-family: Consolas; font-size: 11pt; color: #000000; line-height: 140%"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-family: Consolas; font-size: 11pt; color: #3f7f5f; line-height: 140%">//</span><span style="font-family: 微软雅黑; font-size: 11pt; color: #3f7f5f; line-height: 140%">取款</span></div>
<div><span style="font-family: Consolas; font-size: 11pt; color: #000000; line-height: 140%"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-family: Consolas; font-size: 11pt; color: #0000c0; line-height: 140%">account</span><span style="font-family: Consolas; font-size: 11pt; color: #000000; line-height: 140%">.withDraw(400);</span></div>
<div><span style="font-family: Consolas; font-size: 11pt; color: #000000; line-height: 140%"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-family: Consolas; font-size: 11pt; color: #3f7f5f; line-height: 140%">//</span><span style="font-family: 微软雅黑; font-size: 11pt; color: #3f7f5f; line-height: 140%">提示</span></div>
<div><span style="font-family: Consolas; font-size: 11pt; color: #000000; line-height: 140%"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;System.</span><span style="font-family: Consolas; font-size: 11pt; font-weight: bold; font-style: italic; color: #0000c0; line-height: 140%">out</span><span style="font-family: Consolas; font-size: 11pt; color: #000000; line-height: 140%">.println(Thread.</span><span style="font-family: Consolas; font-size: 11pt; font-style: italic; color: #000000; line-height: 140%">currentThread</span><span style="font-family: Consolas; font-size: 11pt; color: #000000; line-height: 140%">().getName()+</span></div>
<div><span style="font-family: Consolas; font-size: 11pt; color: #000000; line-height: 140%"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-family: Consolas; font-size: 11pt; color: #2a00ff; line-height: 140%">&quot;</span><span style="font-family: 微软雅黑; font-size: 11pt; color: #2a00ff; line-height: 140%">取款成功，现在的余额：</span><span style="font-family: Consolas; font-size: 11pt; color: #2a00ff; line-height: 140%">&quot;</span><span style="font-family: Consolas; font-size: 11pt; color: #000000; line-height: 140%">+</span><span style="font-family: Consolas; font-size: 11pt; color: #0000c0; line-height: 140%">account</span><span style="font-family: Consolas; font-size: 11pt; color: #000000; line-height: 140%">.getBalance());</span></div>
<div><span style="font-family: Consolas; font-size: 11pt; color: #000000; line-height: 140%"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}</span><span style="font-family: Consolas; font-size: 11pt; font-weight: bold; color: #7f0055; line-height: 140%">else</span><span style="font-family: Consolas; font-size: 11pt; color: #000000; line-height: 140%">{ </span><span style="font-family: Consolas; font-size: 11pt; color: #3f7f5f; line-height: 140%">//</span><span style="font-family: 微软雅黑; font-size: 11pt; color: #3f7f5f; line-height: 140%">余额不足，就给出提示</span></div>
<div><span style="font-family: Consolas; font-size: 11pt; color: #000000; line-height: 140%"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;System.</span><span style="font-family: Consolas; font-size: 11pt; font-weight: bold; font-style: italic; color: #0000c0; line-height: 140%">out</span><span style="font-family: Consolas; font-size: 11pt; color: #000000; line-height: 140%">.println(Thread.</span><span style="font-family: Consolas; font-size: 11pt; font-style: italic; color: #000000; line-height: 140%">currentThread</span><span style="font-family: Consolas; font-size: 11pt; color: #000000; line-height: 140%">().getName()+</span></div>
<div><span style="font-family: Consolas; font-size: 11pt; color: #000000; line-height: 140%"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-family: Consolas; font-size: 11pt; color: #2a00ff; line-height: 140%">&quot;</span><span style="font-family: 微软雅黑; font-size: 11pt; color: #2a00ff; line-height: 140%">取款余额不足，现在的余额是：</span><span style="font-family: Consolas; font-size: 11pt; color: #2a00ff; line-height: 140%">&quot;</span><span style="font-family: Consolas; font-size: 11pt; color: #000000; line-height: 140%">+</span><span style="font-family: Consolas; font-size: 11pt; color: #0000c0; line-height: 140%">account</span><span style="font-family: Consolas; font-size: 11pt; color: #000000; line-height: 140%">.getBalance());</span></div>
<div><span style="font-family: Consolas; font-size: 11pt; color: #000000; line-height: 140%"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}</span></div>
<div><span style="font-family: Consolas; font-size: 11pt; color: #000000; line-height: 140%"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}</span><span style="font-family: Consolas; font-size: 11pt; font-weight: bold; color: #7f0055; line-height: 140%">finally</span><span style="font-family: Consolas; font-size: 11pt; color: #000000; line-height: 140%">{ &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span></div>
<div><span style="font-family: Consolas; font-size: 11pt; color: #000000; line-height: 140%"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-family: Consolas; font-size: 11pt; color: #3f7f5f; line-height: 140%">//</span><span style="font-family: 微软雅黑; font-size: 11pt; color: #3f7f5f; line-height: 140%">显式解锁</span></div>
<div><span style="font-family: Consolas; font-size: 11pt; color: #000000; line-height: 140%"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-family: Consolas; font-size: 11pt; color: #0000c0; line-height: 140%">lock</span><span style="font-family: Consolas; font-size: 11pt; color: #000000; line-height: 140%">.unlock();</span></div>
<div><span style="font-family: Consolas; font-size: 11pt; color: #000000; line-height: 140%"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}</span></div>
<div><span style="font-family: Consolas; font-size: 11pt; color: #000000; line-height: 140%"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span></div>
<div><span style="font-family: Consolas; font-size: 11pt; color: #000000; line-height: 140%"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-family: Consolas; font-size: 11pt; color: #3f7f5f; line-height: 140%">//</span><span style="font-family: 微软雅黑; font-size: 11pt; color: #3f7f5f; line-height: 140%">省略</span><span style="font-family: Consolas; font-size: 11pt; color: #3f7f5f; line-height: 140%">30</span><span style="font-family: 微软雅黑; font-size: 11pt; color: #3f7f5f; line-height: 140%">句</span></div>
<div><span style="font-family: Consolas; font-size: 11pt; color: #000000; line-height: 140%"> &nbsp; &nbsp; &nbsp; &nbsp;}</span></div>
<div><br /></div>
<div><span style="font-family: Consolas; font-size: 11pt; color: #000000; line-height: 140%">}</span></div>
<div><br /></div>
<div><br /></div>
<div id="ID_Footer" style="text-align: right; margin-top: 4em; padding-top: 4px; border-top: 2px solid gray">Generated with <a href="http://www.wjjsoft.com/mybase#htmltree" target="_blank">myBase/HtmlTree Maker</a> by <a href="http://www.wjjsoft.com/#htmltree" target="_blank">Wjj Software</a></div><script type="text/javascript" language="javascript" src="jquery.js;itemlink.js"></script>
<script type="text/javascript" language="javascript" src="jquery.js"></script>
<script type="text/javascript" language="javascript" src="itemlink.js"></script></body></html>