<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd"><html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"><head><style>/*<![CDATA[*/
table{border: 1px solid gray;} td{border: 1px dotted gray;} p{margin: 3px 0 3px 0; padding: 0;} #ID_Footer{font-size: small; font-style: italic;} a{padding-right: 20px; background: URL(./icon_newwin.gif) no-repeat center right;} a[href ^= "mailto:"]{padding: 0 20px 0 0; background: URL(./icon_email.gif) no-repeat center right;} a[href ^= "nyf:"]{padding: 0 20px 0 0; background: URL(./icon_jump.gif) no-repeat center right;} 
/*]]>*/</style><title>String和StringBuffer</title></head><body>
<div><span style="font-family: 微软雅黑; font-size: 11pt; font-weight: bold; color: #000000; line-height: 140%"> &nbsp; &nbsp; 1.String、StringBuffer、StringBuilder区别与联系</span></div>
<div><span style="font-family: 微软雅黑; font-size: 11pt; padding-left: 42pt">1) &nbsp; &nbsp; &nbsp; &nbsp;String类是不可变类，即一旦一个String对象被创建后，包含在这个对象中的字符序列是不可改变的，直至这个对象销毁。</span></div>
<div><span style="font-family: 微软雅黑; font-size: 11pt; padding-left: 42pt">2) &nbsp; &nbsp; &nbsp; &nbsp;StringBuffer类则代表一个字符序列可变的字符串，可以通过append、insert、reverse、setChartAt、setLength等方法改变其内容。</span></div>
<div><span style="font-family: 微软雅黑; font-size: 11pt; padding-left: 42pt">一旦生成了最终的字符串，调用toString方法将其转变为String</span></div>
<div><span style="font-family: 微软雅黑; font-size: 11pt; padding-left: 42pt">3) &nbsp; &nbsp; &nbsp; &nbsp;JDK1.5新增了一个StringBuilder类，与StringBuffer相似，构造方法和方法基本相同。</span></div>
<div><span style="font-family: 微软雅黑; font-size: 11pt; padding-left: 42pt">不同是StringBuffer是线程安全的，而StringBuilder是线程不安全的，所以性能略高。</span></div>
<div><span style="font-family: 微软雅黑; font-size: 11pt; padding-left: 42pt">通常情况下，创建一个内容可变的字符串，应该优先考虑使用StringBuilder</span></div>
<div><br /></div>
<div><span style="font-family: 微软雅黑; font-size: 11pt; font-weight: bold; padding-left: 42pt">2.阅读String、StringBuffer、StringBuilder的源码，说明底层原理</span></div>
<div><br /></div>
<div><span style="font-family: 微软雅黑; font-size: 11pt; color: #000000; line-height: 140%"> &nbsp; &nbsp; &nbsp;3.</span><span style="font-family: 微软雅黑; font-size: 11pt; font-weight: bold; color: #000000; line-height: 140%">String、StringBuffer性能说明</span></div>
<div><span style="font-family: Consolas; font-size: 14pt; font-weight: bold; color: #7f0055; padding-left: 40pt; line-height: 140%">public</span><span style="font-family: Consolas; font-size: 14pt; color: #000000; padding-left: 40pt; line-height: 140%"> </span><span style="font-family: Consolas; font-size: 14pt; font-weight: bold; color: #7f0055; padding-left: 40pt; line-height: 140%">class</span><span style="font-family: Consolas; font-size: 14pt; color: #000000; padding-left: 40pt; line-height: 140%"> TestStringBuffer3 {</span></div>
<div><br /></div>
<div><span style="font-family: Consolas; font-size: 14pt; color: #000000; padding-left: 40pt; line-height: 140%"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-family: Consolas; font-size: 14pt; font-weight: bold; color: #7f0055; padding-left: 40pt; line-height: 140%">public</span><span style="font-family: Consolas; font-size: 14pt; color: #000000; padding-left: 40pt; line-height: 140%"> </span><span style="font-family: Consolas; font-size: 14pt; font-weight: bold; color: #7f0055; padding-left: 40pt; line-height: 140%">static</span><span style="font-family: Consolas; font-size: 14pt; color: #000000; padding-left: 40pt; line-height: 140%"> </span><span style="font-family: Consolas; font-size: 14pt; font-weight: bold; color: #7f0055; padding-left: 40pt; line-height: 140%">void</span><span style="font-family: Consolas; font-size: 14pt; color: #000000; padding-left: 40pt; line-height: 140%"> main(String[] </span><span style="font-family: Consolas; font-size: 14pt; color: #6a3e3e; padding-left: 40pt; line-height: 140%">args</span><span style="font-family: Consolas; font-size: 14pt; color: #000000; padding-left: 40pt; line-height: 140%">) {</span></div>
<div><span style="font-family: Consolas; font-size: 14pt; color: #000000; padding-left: 40pt; line-height: 140%"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-family: Consolas; font-size: 14pt; color: #3f7f5f; padding-left: 40pt; line-height: 140%">//</span><span style="font-family: 微软雅黑; font-size: 14pt; color: #3f7f5f; padding-left: 40pt; line-height: 140%">字符串字面常量拼接</span><span style="font-family: Consolas; font-size: 14pt; color: #3f7f5f; padding-left: 40pt; line-height: 140%">,</span><span style="font-family: 微软雅黑; font-size: 14pt; color: #3f7f5f; padding-left: 40pt; line-height: 140%">编译器进行优化，</span><span style="font-family: Consolas; font-size: 14pt; color: #3f7f5f; padding-left: 40pt; line-height: 140%">class</span><span style="font-family: 微软雅黑; font-size: 14pt; color: #3f7f5f; padding-left: 40pt; line-height: 140%">文件中已经合并成一个字符串</span></div>
<div><span style="font-family: Consolas; font-size: 14pt; color: #000000; padding-left: 40pt; line-height: 140%"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;String </span><span style="font-family: Consolas; font-size: 14pt; color: #6a3e3e; padding-left: 40pt; line-height: 140%">str1</span><span style="font-family: Consolas; font-size: 14pt; color: #000000; padding-left: 40pt; line-height: 140%"> = </span><span style="font-family: Consolas; font-size: 14pt; color: #2a00ff; padding-left: 40pt; line-height: 140%">&quot;hello&quot;</span><span style="font-family: Consolas; font-size: 14pt; color: #000000; padding-left: 40pt; line-height: 140%"> +</span><span style="font-family: Consolas; font-size: 14pt; color: #2a00ff; padding-left: 40pt; line-height: 140%">&quot; java&quot;</span><span style="font-family: Consolas; font-size: 14pt; color: #000000; padding-left: 40pt; line-height: 140%">;</span></div>
<div><span style="font-family: Consolas; font-size: 14pt; color: #000000; padding-left: 40pt; line-height: 140%"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;String </span><span style="font-family: Consolas; font-size: 14pt; color: #6a3e3e; padding-left: 40pt; line-height: 140%">str2</span><span style="font-family: Consolas; font-size: 14pt; color: #000000; padding-left: 40pt; line-height: 140%"> = </span><span style="font-family: Consolas; font-size: 14pt; color: #2a00ff; padding-left: 40pt; line-height: 140%">&quot;hello java&quot;</span><span style="font-family: Consolas; font-size: 14pt; color: #000000; padding-left: 40pt; line-height: 140%">;</span></div>
<div><span style="font-family: Consolas; font-size: 14pt; color: #000000; padding-left: 40pt; line-height: 140%"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;System.</span><span style="font-family: Consolas; font-size: 14pt; font-weight: bold; font-style: italic; color: #0000c0; padding-left: 40pt; line-height: 140%">out</span><span style="font-family: Consolas; font-size: 14pt; color: #000000; padding-left: 40pt; line-height: 140%">.println(</span><span style="font-family: Consolas; font-size: 14pt; color: #6a3e3e; padding-left: 40pt; line-height: 140%">str1</span><span style="font-family: Consolas; font-size: 14pt; color: #000000; padding-left: 40pt; line-height: 140%">);</span></div>
<div><span style="font-family: Consolas; font-size: 14pt; color: #000000; padding-left: 40pt; line-height: 140%"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;System.</span><span style="font-family: Consolas; font-size: 14pt; font-weight: bold; font-style: italic; color: #0000c0; padding-left: 40pt; line-height: 140%">out</span><span style="font-family: Consolas; font-size: 14pt; color: #000000; padding-left: 40pt; line-height: 140%">.println(</span><span style="font-family: Consolas; font-size: 14pt; color: #6a3e3e; padding-left: 40pt; line-height: 140%">str2</span><span style="font-family: Consolas; font-size: 14pt; color: #000000; padding-left: 40pt; line-height: 140%">);</span></div>
<div><span style="font-family: Consolas; font-size: 14pt; color: #000000; padding-left: 40pt; line-height: 140%"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-family: Consolas; font-size: 14pt; color: #3f7f5f; padding-left: 40pt; line-height: 140%">//</span><span style="font-family: Consolas; font-size: 14pt; text-decoration: underline; color: #3f7f5f; padding-left: 40pt; line-height: 140%">javap</span><span style="font-family: Consolas; font-size: 14pt; color: #3f7f5f; padding-left: 40pt; line-height: 140%"> -c TestStringBuffer3 </span><span style="font-family: 微软雅黑; font-size: 14pt; color: #3f7f5f; padding-left: 40pt; line-height: 140%">查看虚拟机指令</span></div>
<div><span style="font-family: Consolas; font-size: 14pt; color: #000000; padding-left: 40pt; line-height: 140%"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-family: Consolas; font-size: 14pt; color: #3f7f5f; padding-left: 40pt; line-height: 140%">//</span><span style="font-family: 微软雅黑; font-size: 14pt; color: #3f7f5f; padding-left: 40pt; line-height: 140%">字符串变量的拼接</span><span style="font-family: Consolas; font-size: 14pt; color: #3f7f5f; padding-left: 40pt; line-height: 140%">,</span><span style="font-family: 微软雅黑; font-size: 14pt; color: #3f7f5f; padding-left: 40pt; line-height: 140%">编译器会使用</span><span style="font-family: Consolas; font-size: 14pt; color: #3f7f5f; padding-left: 40pt; line-height: 140%">StringBuilder</span><span style="font-family: 微软雅黑; font-size: 14pt; color: #3f7f5f; padding-left: 40pt; line-height: 140%">的</span><span style="font-family: Consolas; font-size: 14pt; color: #3f7f5f; padding-left: 40pt; line-height: 140%">append</span><span style="font-family: 微软雅黑; font-size: 14pt; color: #3f7f5f; padding-left: 40pt; line-height: 140%">方法进行优化</span></div>
<div><span style="font-family: Consolas; font-size: 14pt; color: #000000; padding-left: 40pt; line-height: 140%"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-family: Consolas; font-size: 14pt; color: #3f7f5f; padding-left: 40pt; line-height: 140%">//</span><span style="font-family: 微软雅黑; font-size: 14pt; color: #3f7f5f; padding-left: 40pt; line-height: 140%">不会生成多个中间字符串</span></div>
<div><span style="font-family: Consolas; font-size: 14pt; color: #000000; padding-left: 40pt; line-height: 140%"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;String </span><span style="font-family: Consolas; font-size: 14pt; color: #6a3e3e; padding-left: 40pt; line-height: 140%">str3</span><span style="font-family: Consolas; font-size: 14pt; color: #000000; padding-left: 40pt; line-height: 140%"> = </span><span style="font-family: Consolas; font-size: 14pt; color: #2a00ff; padding-left: 40pt; line-height: 140%">&quot;hello &quot;</span><span style="font-family: Consolas; font-size: 14pt; color: #000000; padding-left: 40pt; line-height: 140%">;</span></div>
<div><span style="font-family: Consolas; font-size: 14pt; color: #000000; padding-left: 40pt; line-height: 140%"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;String </span><span style="font-family: Consolas; font-size: 14pt; color: #6a3e3e; padding-left: 40pt; line-height: 140%">str4</span><span style="font-family: Consolas; font-size: 14pt; color: #000000; padding-left: 40pt; line-height: 140%"> = </span><span style="font-family: Consolas; font-size: 14pt; color: #2a00ff; padding-left: 40pt; line-height: 140%">&quot; java&quot;</span><span style="font-family: Consolas; font-size: 14pt; color: #000000; padding-left: 40pt; line-height: 140%">;</span></div>
<div><span style="font-family: Consolas; font-size: 14pt; color: #000000; padding-left: 40pt; line-height: 140%"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;String </span><span style="font-family: Consolas; font-size: 14pt; color: #6a3e3e; padding-left: 40pt; line-height: 140%">str5</span><span style="font-family: Consolas; font-size: 14pt; color: #000000; padding-left: 40pt; line-height: 140%"> = </span><span style="font-family: Consolas; font-size: 14pt; color: #2a00ff; padding-left: 40pt; line-height: 140%">&quot; coffee&quot;</span><span style="font-family: Consolas; font-size: 14pt; color: #000000; padding-left: 40pt; line-height: 140%">;</span></div>
<div><span style="font-family: Consolas; font-size: 14pt; color: #000000; padding-left: 40pt; line-height: 140%"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;String </span><span style="font-family: Consolas; font-size: 14pt; color: #6a3e3e; padding-left: 40pt; line-height: 140%">str6</span><span style="font-family: Consolas; font-size: 14pt; color: #000000; padding-left: 40pt; line-height: 140%"> = </span><span style="font-family: Consolas; font-size: 14pt; color: #6a3e3e; padding-left: 40pt; line-height: 140%">str3</span><span style="font-family: Consolas; font-size: 14pt; color: #000000; padding-left: 40pt; line-height: 140%"> + </span><span style="font-family: Consolas; font-size: 14pt; color: #6a3e3e; padding-left: 40pt; line-height: 140%">str4</span><span style="font-family: Consolas; font-size: 14pt; color: #000000; padding-left: 40pt; line-height: 140%"> + </span><span style="font-family: Consolas; font-size: 14pt; color: #6a3e3e; padding-left: 40pt; line-height: 140%">str5</span><span style="font-family: Consolas; font-size: 14pt; color: #000000; padding-left: 40pt; line-height: 140%">;</span></div>
<div><span style="font-family: Consolas; font-size: 14pt; color: #000000; padding-left: 40pt; line-height: 140%"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-family: Consolas; font-size: 14pt; color: #3f7f5f; padding-left: 40pt; line-height: 140%">/*</span></div>
<div><span style="font-family: Consolas; font-size: 14pt; color: #3f7f5f; padding-left: 40pt; line-height: 140%"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;StringBuilder builder = new StringBuilder(&quot;&quot;);</span></div>
<div><span style="font-family: Consolas; font-size: 14pt; color: #3f7f5f; padding-left: 40pt; line-height: 140%"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;builder.append(str3);</span></div>
<div><span style="font-family: Consolas; font-size: 14pt; color: #3f7f5f; padding-left: 40pt; line-height: 140%"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;builder.append(str4);</span></div>
<div><span style="font-family: Consolas; font-size: 14pt; color: #3f7f5f; padding-left: 40pt; line-height: 140%"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;builder.append(str5);</span></div>
<div><span style="font-family: Consolas; font-size: 14pt; color: #3f7f5f; padding-left: 40pt; line-height: 140%"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;String str6 = builder.toString(); </span></div>
<div><span style="font-family: Consolas; font-size: 14pt; color: #3f7f5f; padding-left: 40pt; line-height: 140%"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;*/</span></div>
<div><span style="font-family: Consolas; font-size: 14pt; color: #000000; padding-left: 40pt; line-height: 140%"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;System.</span><span style="font-family: Consolas; font-size: 14pt; font-weight: bold; font-style: italic; color: #0000c0; padding-left: 40pt; line-height: 140%">out</span><span style="font-family: Consolas; font-size: 14pt; color: #000000; padding-left: 40pt; line-height: 140%">.println(</span><span style="font-family: Consolas; font-size: 14pt; color: #6a3e3e; padding-left: 40pt; line-height: 140%">str6</span><span style="font-family: Consolas; font-size: 14pt; color: #000000; padding-left: 40pt; line-height: 140%">);</span></div>
<div><span style="font-family: Consolas; font-size: 14pt; color: #000000; padding-left: 40pt; line-height: 140%"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span></div>
<div><span style="font-family: Consolas; font-size: 14pt; color: #000000; padding-left: 40pt; line-height: 140%"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-family: Consolas; font-size: 14pt; color: #3f7f5f; padding-left: 40pt; line-height: 140%">//</span><span style="font-family: 微软雅黑; font-size: 14pt; color: #3f7f5f; padding-left: 40pt; line-height: 140%">使用了循环的字符串变量的拼接</span></div>
<div><span style="font-family: Consolas; font-size: 14pt; color: #000000; padding-left: 40pt; line-height: 140%"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;String </span><span style="font-family: Consolas; font-size: 14pt; color: #6a3e3e; padding-left: 40pt; line-height: 140%">str7</span><span style="font-family: Consolas; font-size: 14pt; color: #000000; padding-left: 40pt; line-height: 140%"> = </span><span style="font-family: Consolas; font-size: 14pt; color: #2a00ff; padding-left: 40pt; line-height: 140%">&quot;&quot;</span><span style="font-family: Consolas; font-size: 14pt; color: #000000; padding-left: 40pt; line-height: 140%">;</span></div>
<div><span style="font-family: Consolas; font-size: 14pt; color: #000000; padding-left: 40pt; line-height: 140%"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-family: Consolas; font-size: 14pt; color: #3f7f5f; padding-left: 40pt; line-height: 140%">//</span><span style="font-family: 微软雅黑; font-size: 14pt; color: #3f7f5f; padding-left: 40pt; line-height: 140%">采用了</span><span style="font-family: Consolas; font-size: 14pt; color: #3f7f5f; padding-left: 40pt; line-height: 140%">append</span><span style="font-family: 微软雅黑; font-size: 14pt; color: #3f7f5f; padding-left: 40pt; line-height: 140%">不错，但是每次循环都创建一个新的</span><span style="font-family: Consolas; font-size: 14pt; color: #3f7f5f; padding-left: 40pt; line-height: 140%">StringBuilder</span></div>
<div><span style="font-family: Consolas; font-size: 14pt; color: #000000; padding-left: 40pt; line-height: 140%"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-family: Consolas; font-size: 14pt; font-weight: bold; color: #7f0055; padding-left: 40pt; line-height: 140%">long</span><span style="font-family: Consolas; font-size: 14pt; color: #000000; padding-left: 40pt; line-height: 140%"> </span><span style="font-family: Consolas; font-size: 14pt; color: #6a3e3e; padding-left: 40pt; line-height: 140%">startMem</span><span style="font-family: Consolas; font-size: 14pt; color: #000000; padding-left: 40pt; line-height: 140%"> = Runtime.</span><span style="font-family: Consolas; font-size: 14pt; font-style: italic; color: #000000; padding-left: 40pt; line-height: 140%">getRuntime</span><span style="font-family: Consolas; font-size: 14pt; color: #000000; padding-left: 40pt; line-height: 140%">().freeMemory();</span></div>
<div><span style="font-family: Consolas; font-size: 14pt; color: #000000; padding-left: 40pt; line-height: 140%"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-family: Consolas; font-size: 14pt; font-weight: bold; color: #7f0055; padding-left: 40pt; line-height: 140%">long</span><span style="font-family: Consolas; font-size: 14pt; color: #000000; padding-left: 40pt; line-height: 140%"> </span><span style="font-family: Consolas; font-size: 14pt; color: #6a3e3e; padding-left: 40pt; line-height: 140%">startTime</span><span style="font-family: Consolas; font-size: 14pt; color: #000000; padding-left: 40pt; line-height: 140%"> = System.</span><span style="font-family: Consolas; font-size: 14pt; font-style: italic; color: #000000; padding-left: 40pt; line-height: 140%">currentTimeMillis</span><span style="font-family: Consolas; font-size: 14pt; color: #000000; padding-left: 40pt; line-height: 140%">();</span></div>
<div><span style="font-family: Consolas; font-size: 14pt; color: #000000; padding-left: 40pt; line-height: 140%"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-family: Consolas; font-size: 14pt; font-weight: bold; color: #7f0055; padding-left: 40pt; line-height: 140%">for</span><span style="font-family: Consolas; font-size: 14pt; color: #000000; padding-left: 40pt; line-height: 140%">(</span><span style="font-family: Consolas; font-size: 14pt; font-weight: bold; color: #7f0055; padding-left: 40pt; line-height: 140%">int</span><span style="font-family: Consolas; font-size: 14pt; color: #000000; padding-left: 40pt; line-height: 140%"> </span><span style="font-family: Consolas; font-size: 14pt; color: #6a3e3e; padding-left: 40pt; line-height: 140%">i</span><span style="font-family: Consolas; font-size: 14pt; color: #000000; padding-left: 40pt; line-height: 140%">=0;</span><span style="font-family: Consolas; font-size: 14pt; color: #6a3e3e; padding-left: 40pt; line-height: 140%">i</span><span style="font-family: Consolas; font-size: 14pt; color: #000000; padding-left: 40pt; line-height: 140%">&lt;1000;</span><span style="font-family: Consolas; font-size: 14pt; color: #6a3e3e; padding-left: 40pt; line-height: 140%">i</span><span style="font-family: Consolas; font-size: 14pt; color: #000000; padding-left: 40pt; line-height: 140%">++){</span></div>
<div><span style="font-family: Consolas; font-size: 14pt; color: #000000; padding-left: 40pt; line-height: 140%"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-family: Consolas; font-size: 14pt; color: #6a3e3e; padding-left: 40pt; line-height: 140%">str7</span><span style="font-family: Consolas; font-size: 14pt; color: #000000; padding-left: 40pt; line-height: 140%"> = </span><span style="font-family: Consolas; font-size: 14pt; color: #6a3e3e; padding-left: 40pt; line-height: 140%">str7</span><span style="font-family: Consolas; font-size: 14pt; color: #000000; padding-left: 40pt; line-height: 140%"> + </span><span style="font-family: Consolas; font-size: 14pt; color: #6a3e3e; padding-left: 40pt; line-height: 140%">i</span><span style="font-family: Consolas; font-size: 14pt; color: #000000; padding-left: 40pt; line-height: 140%">;</span></div>
<div><span style="font-family: Consolas; font-size: 14pt; color: #000000; padding-left: 40pt; line-height: 140%"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}</span></div>
<div><span style="font-family: Consolas; font-size: 14pt; color: #000000; padding-left: 40pt; line-height: 140%"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-family: Consolas; font-size: 14pt; font-weight: bold; color: #7f0055; padding-left: 40pt; line-height: 140%">long</span><span style="font-family: Consolas; font-size: 14pt; color: #000000; padding-left: 40pt; line-height: 140%"> </span><span style="font-family: Consolas; font-size: 14pt; color: #6a3e3e; padding-left: 40pt; line-height: 140%">endMem</span><span style="font-family: Consolas; font-size: 14pt; color: #000000; padding-left: 40pt; line-height: 140%"> = Runtime.</span><span style="font-family: Consolas; font-size: 14pt; font-style: italic; color: #000000; padding-left: 40pt; line-height: 140%">getRuntime</span><span style="font-family: Consolas; font-size: 14pt; color: #000000; padding-left: 40pt; line-height: 140%">().freeMemory();</span></div>
<div><span style="font-family: Consolas; font-size: 14pt; color: #000000; padding-left: 40pt; line-height: 140%"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-family: Consolas; font-size: 14pt; font-weight: bold; color: #7f0055; padding-left: 40pt; line-height: 140%">long</span><span style="font-family: Consolas; font-size: 14pt; color: #000000; padding-left: 40pt; line-height: 140%"> </span><span style="font-family: Consolas; font-size: 14pt; color: #6a3e3e; padding-left: 40pt; line-height: 140%">endTime</span><span style="font-family: Consolas; font-size: 14pt; color: #000000; padding-left: 40pt; line-height: 140%"> = System.</span><span style="font-family: Consolas; font-size: 14pt; font-style: italic; color: #000000; padding-left: 40pt; line-height: 140%">currentTimeMillis</span><span style="font-family: Consolas; font-size: 14pt; color: #000000; padding-left: 40pt; line-height: 140%">();</span></div>
<div><span style="font-family: Consolas; font-size: 14pt; color: #000000; padding-left: 40pt; line-height: 140%"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;System.</span><span style="font-family: Consolas; font-size: 14pt; font-weight: bold; font-style: italic; color: #0000c0; padding-left: 40pt; line-height: 140%">out</span><span style="font-family: Consolas; font-size: 14pt; color: #000000; padding-left: 40pt; line-height: 140%">.println(</span><span style="font-family: Consolas; font-size: 14pt; color: #2a00ff; padding-left: 40pt; line-height: 140%">&quot;String </span><span style="font-family: 微软雅黑; font-size: 14pt; color: #2a00ff; padding-left: 40pt; line-height: 140%">花费的内存：</span><span style="font-family: Consolas; font-size: 14pt; color: #2a00ff; padding-left: 40pt; line-height: 140%">&quot;</span><span style="font-family: Consolas; font-size: 14pt; color: #000000; padding-left: 40pt; line-height: 140%">+(</span><span style="font-family: Consolas; font-size: 14pt; color: #6a3e3e; padding-left: 40pt; line-height: 140%">startMem</span><span style="font-family: Consolas; font-size: 14pt; color: #000000; padding-left: 40pt; line-height: 140%"> - </span><span style="font-family: Consolas; font-size: 14pt; color: #6a3e3e; padding-left: 40pt; line-height: 140%">endMem</span><span style="font-family: Consolas; font-size: 14pt; color: #000000; padding-left: 40pt; line-height: 140%">));</span></div>
<div><span style="font-family: Consolas; font-size: 14pt; color: #000000; padding-left: 40pt; line-height: 140%"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;System.</span><span style="font-family: Consolas; font-size: 14pt; font-weight: bold; font-style: italic; color: #0000c0; padding-left: 40pt; line-height: 140%">out</span><span style="font-family: Consolas; font-size: 14pt; color: #000000; padding-left: 40pt; line-height: 140%">.println(</span><span style="font-family: Consolas; font-size: 14pt; color: #2a00ff; padding-left: 40pt; line-height: 140%">&quot;String </span><span style="font-family: 微软雅黑; font-size: 14pt; color: #2a00ff; padding-left: 40pt; line-height: 140%">花费的时间：</span><span style="font-family: Consolas; font-size: 14pt; color: #2a00ff; padding-left: 40pt; line-height: 140%">&quot;</span><span style="font-family: Consolas; font-size: 14pt; color: #000000; padding-left: 40pt; line-height: 140%">+(</span><span style="font-family: Consolas; font-size: 14pt; color: #6a3e3e; padding-left: 40pt; line-height: 140%">endTime</span><span style="font-family: Consolas; font-size: 14pt; color: #000000; padding-left: 40pt; line-height: 140%"> - </span><span style="font-family: Consolas; font-size: 14pt; color: #6a3e3e; padding-left: 40pt; line-height: 140%">startTime</span><span style="font-family: Consolas; font-size: 14pt; color: #000000; padding-left: 40pt; line-height: 140%">));</span></div>
<div><span style="font-family: Consolas; font-size: 14pt; color: #000000; padding-left: 40pt; line-height: 140%"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;System.</span><span style="font-family: Consolas; font-size: 14pt; font-weight: bold; font-style: italic; color: #0000c0; padding-left: 40pt; line-height: 140%">out</span><span style="font-family: Consolas; font-size: 14pt; color: #000000; padding-left: 40pt; line-height: 140%">.println(</span><span style="font-family: Consolas; font-size: 14pt; color: #6a3e3e; padding-left: 40pt; line-height: 140%">str7</span><span style="font-family: Consolas; font-size: 14pt; color: #000000; padding-left: 40pt; line-height: 140%">);</span></div>
<div><span style="font-family: Consolas; font-size: 14pt; color: #000000; padding-left: 40pt; line-height: 140%"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span></div>
<div><span style="font-family: Consolas; font-size: 14pt; color: #000000; padding-left: 40pt; line-height: 140%"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;StringBuilder </span><span style="font-family: Consolas; font-size: 14pt; color: #6a3e3e; padding-left: 40pt; line-height: 140%">str8</span><span style="font-family: Consolas; font-size: 14pt; color: #000000; padding-left: 40pt; line-height: 140%"> = </span><span style="font-family: Consolas; font-size: 14pt; font-weight: bold; color: #7f0055; padding-left: 40pt; line-height: 140%">new</span><span style="font-family: Consolas; font-size: 14pt; color: #000000; padding-left: 40pt; line-height: 140%"> StringBuilder(</span><span style="font-family: Consolas; font-size: 14pt; color: #2a00ff; padding-left: 40pt; line-height: 140%">&quot;&quot;</span><span style="font-family: Consolas; font-size: 14pt; color: #000000; padding-left: 40pt; line-height: 140%">);</span></div>
<div><span style="font-family: Consolas; font-size: 14pt; color: #000000; padding-left: 40pt; line-height: 140%"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-family: Consolas; font-size: 14pt; color: #3f7f5f; padding-left: 40pt; line-height: 140%">//</span><span style="font-family: 微软雅黑; font-size: 14pt; color: #3f7f5f; padding-left: 40pt; line-height: 140%">循环</span><span style="font-family: Consolas; font-size: 14pt; color: #3f7f5f; padding-left: 40pt; line-height: 140%">1000</span><span style="font-family: 微软雅黑; font-size: 14pt; color: #3f7f5f; padding-left: 40pt; line-height: 140%">次，一直使用一个</span><span style="font-family: Consolas; font-size: 14pt; color: #3f7f5f; padding-left: 40pt; line-height: 140%">StringBuilder</span><span style="font-family: 微软雅黑; font-size: 14pt; color: #3f7f5f; padding-left: 40pt; line-height: 140%">，效率高</span></div>
<div><span style="font-family: Consolas; font-size: 14pt; color: #000000; padding-left: 40pt; line-height: 140%"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-family: Consolas; font-size: 14pt; color: #6a3e3e; padding-left: 40pt; line-height: 140%">startMem</span><span style="font-family: Consolas; font-size: 14pt; color: #000000; padding-left: 40pt; line-height: 140%"> = Runtime.</span><span style="font-family: Consolas; font-size: 14pt; font-style: italic; color: #000000; padding-left: 40pt; line-height: 140%">getRuntime</span><span style="font-family: Consolas; font-size: 14pt; color: #000000; padding-left: 40pt; line-height: 140%">().freeMemory();</span></div>
<div><span style="font-family: Consolas; font-size: 14pt; color: #000000; padding-left: 40pt; line-height: 140%"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-family: Consolas; font-size: 14pt; color: #6a3e3e; padding-left: 40pt; line-height: 140%">startTime</span><span style="font-family: Consolas; font-size: 14pt; color: #000000; padding-left: 40pt; line-height: 140%"> = System.</span><span style="font-family: Consolas; font-size: 14pt; font-style: italic; color: #000000; padding-left: 40pt; line-height: 140%">currentTimeMillis</span><span style="font-family: Consolas; font-size: 14pt; color: #000000; padding-left: 40pt; line-height: 140%">();</span></div>
<div><span style="font-family: Consolas; font-size: 14pt; color: #000000; padding-left: 40pt; line-height: 140%"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-family: Consolas; font-size: 14pt; font-weight: bold; color: #7f0055; padding-left: 40pt; line-height: 140%">for</span><span style="font-family: Consolas; font-size: 14pt; color: #000000; padding-left: 40pt; line-height: 140%">(</span><span style="font-family: Consolas; font-size: 14pt; font-weight: bold; color: #7f0055; padding-left: 40pt; line-height: 140%">int</span><span style="font-family: Consolas; font-size: 14pt; color: #000000; padding-left: 40pt; line-height: 140%"> </span><span style="font-family: Consolas; font-size: 14pt; color: #6a3e3e; padding-left: 40pt; line-height: 140%">i</span><span style="font-family: Consolas; font-size: 14pt; color: #000000; padding-left: 40pt; line-height: 140%">=0;</span><span style="font-family: Consolas; font-size: 14pt; color: #6a3e3e; padding-left: 40pt; line-height: 140%">i</span><span style="font-family: Consolas; font-size: 14pt; color: #000000; padding-left: 40pt; line-height: 140%">&lt;1000;</span><span style="font-family: Consolas; font-size: 14pt; color: #6a3e3e; padding-left: 40pt; line-height: 140%">i</span><span style="font-family: Consolas; font-size: 14pt; color: #000000; padding-left: 40pt; line-height: 140%">++){</span></div>
<div><span style="font-family: Consolas; font-size: 14pt; color: #000000; padding-left: 40pt; line-height: 140%"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-family: Consolas; font-size: 14pt; color: #3f7f5f; padding-left: 40pt; line-height: 140%">//str7 = str7 + i;</span></div>
<div><span style="font-family: Consolas; font-size: 14pt; color: #000000; padding-left: 40pt; line-height: 140%"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-family: Consolas; font-size: 14pt; color: #6a3e3e; padding-left: 40pt; line-height: 140%">str8</span><span style="font-family: Consolas; font-size: 14pt; color: #000000; padding-left: 40pt; line-height: 140%">.append(</span><span style="font-family: Consolas; font-size: 14pt; color: #6a3e3e; padding-left: 40pt; line-height: 140%">i</span><span style="font-family: Consolas; font-size: 14pt; color: #000000; padding-left: 40pt; line-height: 140%">);</span></div>
<div><span style="font-family: Consolas; font-size: 14pt; color: #000000; padding-left: 40pt; line-height: 140%"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}</span></div>
<div><span style="font-family: Consolas; font-size: 14pt; color: #000000; padding-left: 40pt; line-height: 140%"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-family: Consolas; font-size: 14pt; color: #6a3e3e; padding-left: 40pt; line-height: 140%">endMem</span><span style="font-family: Consolas; font-size: 14pt; color: #000000; padding-left: 40pt; line-height: 140%"> = Runtime.</span><span style="font-family: Consolas; font-size: 14pt; font-style: italic; color: #000000; padding-left: 40pt; line-height: 140%">getRuntime</span><span style="font-family: Consolas; font-size: 14pt; color: #000000; padding-left: 40pt; line-height: 140%">().freeMemory();</span></div>
<div><span style="font-family: Consolas; font-size: 14pt; color: #000000; padding-left: 40pt; line-height: 140%"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-family: Consolas; font-size: 14pt; color: #6a3e3e; padding-left: 40pt; line-height: 140%">endTime</span><span style="font-family: Consolas; font-size: 14pt; color: #000000; padding-left: 40pt; line-height: 140%"> = System.</span><span style="font-family: Consolas; font-size: 14pt; font-style: italic; color: #000000; padding-left: 40pt; line-height: 140%">currentTimeMillis</span><span style="font-family: Consolas; font-size: 14pt; color: #000000; padding-left: 40pt; line-height: 140%">();</span></div>
<div><span style="font-family: Consolas; font-size: 14pt; color: #000000; padding-left: 40pt; line-height: 140%"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;System.</span><span style="font-family: Consolas; font-size: 14pt; font-weight: bold; font-style: italic; color: #0000c0; padding-left: 40pt; line-height: 140%">out</span><span style="font-family: Consolas; font-size: 14pt; color: #000000; padding-left: 40pt; line-height: 140%">.println(</span><span style="font-family: Consolas; font-size: 14pt; color: #2a00ff; padding-left: 40pt; line-height: 140%">&quot;StringBuilder </span><span style="font-family: 微软雅黑; font-size: 14pt; color: #2a00ff; padding-left: 40pt; line-height: 140%">花费的内存：</span><span style="font-family: Consolas; font-size: 14pt; color: #2a00ff; padding-left: 40pt; line-height: 140%">&quot;</span><span style="font-family: Consolas; font-size: 14pt; color: #000000; padding-left: 40pt; line-height: 140%">+(</span><span style="font-family: Consolas; font-size: 14pt; color: #6a3e3e; padding-left: 40pt; line-height: 140%">startMem</span><span style="font-family: Consolas; font-size: 14pt; color: #000000; padding-left: 40pt; line-height: 140%"> - </span><span style="font-family: Consolas; font-size: 14pt; color: #6a3e3e; padding-left: 40pt; line-height: 140%">endMem</span><span style="font-family: Consolas; font-size: 14pt; color: #000000; padding-left: 40pt; line-height: 140%">));</span></div>
<div><span style="font-family: Consolas; font-size: 14pt; color: #000000; padding-left: 40pt; line-height: 140%"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;System.</span><span style="font-family: Consolas; font-size: 14pt; font-weight: bold; font-style: italic; color: #0000c0; padding-left: 40pt; line-height: 140%">out</span><span style="font-family: Consolas; font-size: 14pt; color: #000000; padding-left: 40pt; line-height: 140%">.println(</span><span style="font-family: Consolas; font-size: 14pt; color: #2a00ff; padding-left: 40pt; line-height: 140%">&quot;StringBuilder </span><span style="font-family: 微软雅黑; font-size: 14pt; color: #2a00ff; padding-left: 40pt; line-height: 140%">花费的时间：</span><span style="font-family: Consolas; font-size: 14pt; color: #2a00ff; padding-left: 40pt; line-height: 140%">&quot;</span><span style="font-family: Consolas; font-size: 14pt; color: #000000; padding-left: 40pt; line-height: 140%">+(</span><span style="font-family: Consolas; font-size: 14pt; color: #6a3e3e; padding-left: 40pt; line-height: 140%">endTime</span><span style="font-family: Consolas; font-size: 14pt; color: #000000; padding-left: 40pt; line-height: 140%"> - </span><span style="font-family: Consolas; font-size: 14pt; color: #6a3e3e; padding-left: 40pt; line-height: 140%">startTime</span><span style="font-family: Consolas; font-size: 14pt; color: #000000; padding-left: 40pt; line-height: 140%">));</span></div>
<div><span style="font-family: Consolas; font-size: 14pt; color: #000000; padding-left: 40pt; line-height: 140%"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;System.</span><span style="font-family: Consolas; font-size: 14pt; font-weight: bold; font-style: italic; color: #0000c0; padding-left: 40pt; line-height: 140%">out</span><span style="font-family: Consolas; font-size: 14pt; color: #000000; padding-left: 40pt; line-height: 140%">.println(</span><span style="font-family: Consolas; font-size: 14pt; color: #6a3e3e; padding-left: 40pt; line-height: 140%">str8</span><span style="font-family: Consolas; font-size: 14pt; color: #000000; padding-left: 40pt; line-height: 140%">);</span></div>
<div><span style="font-family: Consolas; font-size: 14pt; color: #000000; padding-left: 40pt; line-height: 140%"> &nbsp; &nbsp; &nbsp; &nbsp;}</span></div>
<div><span style="font-family: Consolas; font-size: 14pt; color: #000000; padding-left: 40pt; line-height: 140%">}</span></div>
<div><br /></div>
<div><br /></div>
<div id="ID_Footer" style="text-align: right; margin-top: 4em; padding-top: 4px; border-top: 2px solid gray">Generated with <a href="http://www.wjjsoft.com/mybase#htmltree" target="_blank">myBase/HtmlTree Maker</a> by <a href="http://www.wjjsoft.com/#htmltree" target="_blank">Wjj Software</a></div><script type="text/javascript" language="javascript" src="jquery.js;itemlink.js"></script>
<script type="text/javascript" language="javascript" src="jquery.js"></script>
<script type="text/javascript" language="javascript" src="itemlink.js"></script></body></html>