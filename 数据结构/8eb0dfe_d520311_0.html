<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd"><html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"><head><style>/*<![CDATA[*/
table{border: 1px solid gray;} td{border: 1px dotted gray;} p{margin: 3px 0 3px 0; padding: 0;} #ID_Footer{font-size: small; font-style: italic;} a{padding-right: 20px; background: URL(./icon_newwin.gif) no-repeat center right;} a[href ^= "mailto:"]{padding: 0 20px 0 0; background: URL(./icon_email.gif) no-repeat center right;} a[href ^= "nyf:"]{padding: 0 20px 0 0; background: URL(./icon_jump.gif) no-repeat center right;} 
/*]]>*/</style><title>Callable</title></head><body>
<div><span style="font-family: 微软雅黑; font-size: 11pt; font-weight: bold; color: #000000; line-height: 140%">创建线程的第三种方式：Callable</span></div>
<div><span style="font-family: Consolas; font-size: 14pt; color: #3f5fbf; padding-left: 20pt; line-height: 140%"> </span><span style="font-family: 微软雅黑; font-size: 11pt; padding-left: 20pt; line-height: 140%">在</span><span style="font-family: Consolas; font-size: 11pt; padding-left: 20pt; line-height: 140%">Java5</span><span style="font-family: 微软雅黑; font-size: 11pt; padding-left: 20pt; line-height: 140%">之前，线程是没有返回值的，常常为了&quot;有&quot;返回值，破费周折，而且代码很不好写。</span></div>
<div><span style="font-family: Consolas; font-size: 11pt; padding-left: 20pt; line-height: 140%"> </span><span style="font-family: 微软雅黑; font-size: 11pt; padding-left: 20pt; line-height: 140%">或者干脆绕过这道坎，走别的路了。现在</span><span style="font-family: Consolas; font-size: 11pt; padding-left: 20pt; line-height: 140%">Java</span><span style="font-family: 微软雅黑; font-size: 11pt; padding-left: 20pt; line-height: 140%">终于有可返回值的任务（也可以叫做线程）了。</span></div>
<div><span style="font-family: Consolas; font-size: 11pt; padding-left: 20pt; line-height: 140%"> </span></div>
<div><span style="font-family: Consolas; font-size: 11pt; padding-left: 20pt; line-height: 140%"> </span><span style="font-family: 微软雅黑; font-size: 11pt; padding-left: 20pt; line-height: 140%">第三种方式，实现</span><span style="font-family: Consolas; font-size: 11pt; text-decoration: underline; padding-left: 20pt; line-height: 140%">Callable</span><span style="font-family: 微软雅黑; font-size: 11pt; padding-left: 20pt; line-height: 140%">接口，重写</span><span style="font-family: Consolas; font-size: 11pt; padding-left: 20pt; line-height: 140%">call()</span><span style="font-family: 微软雅黑; font-size: 11pt; padding-left: 20pt; line-height: 140%">方法</span></div>
<div><span style="font-family: Consolas; font-size: 11pt; padding-left: 20pt; line-height: 140%"> </span><span style="font-family: 微软雅黑; font-size: 11pt; padding-left: 20pt; line-height: 140%">与实行</span><span style="font-family: Consolas; font-size: 11pt; padding-left: 20pt; line-height: 140%">Runnable</span><span style="font-family: 微软雅黑; font-size: 11pt; padding-left: 20pt; line-height: 140%">相比</span></div>
<div><span style="font-family: Consolas; font-size: 11pt; padding-left: 20pt; line-height: 140%"> 1.</span><span style="font-family: 微软雅黑; font-size: 11pt; padding-left: 20pt; line-height: 140%">方法不同</span><span style="font-family: Consolas; font-size: 11pt; padding-left: 20pt; line-height: 140%"> &nbsp;</span></div>
<div><span style="font-family: Consolas; font-size: 11pt; padding-left: 20pt; line-height: 140%"> 2.</span><span style="font-family: 微软雅黑; font-size: 11pt; padding-left: 20pt; line-height: 140%">可以有返回值，支持泛型的返回值</span></div>
<div><span style="font-family: Consolas; font-size: 11pt; padding-left: 20pt; line-height: 140%"> 3.</span><span style="font-family: 微软雅黑; font-size: 11pt; padding-left: 20pt; line-height: 140%">可以抛出异常</span></div>
<div><span style="font-family: Consolas; font-size: 11pt; padding-left: 20pt; line-height: 140%"> 4.</span><span style="font-family: 微软雅黑; font-size: 11pt; padding-left: 20pt; line-height: 140%">需要借助</span><span style="font-family: Consolas; font-size: 11pt; padding-left: 20pt; line-height: 140%">FutureTask</span><span style="font-family: 微软雅黑; font-size: 11pt; padding-left: 20pt; line-height: 140%">，比如获取返回结果</span></div>
<div><span style="font-family: Consolas; font-size: 11pt; padding-left: 20pt; line-height: 140%"> </span><span style="font-family: Consolas; font-size: 11pt; text-decoration: underline; padding-left: 20pt; line-height: 140%">Callable</span><span style="font-family: 微软雅黑; font-size: 11pt; padding-left: 20pt; line-height: 140%">功能更强大些</span></div>
<div><br /></div>
<div><span style="font-family: Consolas; font-size: 11pt; padding-left: 20pt; line-height: 140%"> * Future</span><span style="font-family: 微软雅黑; font-size: 11pt; padding-left: 20pt; line-height: 140%">接口可以对具体</span><span style="font-family: Consolas; font-size: 11pt; padding-left: 20pt; line-height: 140%">Runnable</span><span style="font-family: 微软雅黑; font-size: 11pt; padding-left: 20pt; line-height: 140%">、</span><span style="font-family: Consolas; font-size: 11pt; text-decoration: underline; padding-left: 20pt; line-height: 140%">Callable</span><span style="font-family: 微软雅黑; font-size: 11pt; padding-left: 20pt; line-height: 140%">任务的执行结果进行取消、查询是否完成、获取结果等。</span></div>
<div><span style="font-family: Consolas; font-size: 11pt; padding-left: 20pt; line-height: 140%"> * FutrueTask</span><span style="font-family: 微软雅黑; font-size: 11pt; padding-left: 20pt; line-height: 140%">是</span><span style="font-family: Consolas; font-size: 11pt; text-decoration: underline; padding-left: 20pt; line-height: 140%">Futrue</span><span style="font-family: 微软雅黑; font-size: 11pt; padding-left: 20pt; line-height: 140%">接口的唯一的实现类</span></div>
<div><span style="font-family: Consolas; font-size: 11pt; padding-left: 20pt; line-height: 140%"> * FutureTask </span><span style="font-family: 微软雅黑; font-size: 11pt; padding-left: 20pt; line-height: 140%">同时实现了</span><span style="font-family: Consolas; font-size: 11pt; padding-left: 20pt; line-height: 140%">Runnable, Future</span><span style="font-family: 微软雅黑; font-size: 11pt; padding-left: 20pt; line-height: 140%">接口。它既可以作为</span><span style="font-family: Consolas; font-size: 11pt; padding-left: 20pt; line-height: 140%">Runnable</span><span style="font-family: 微软雅黑; font-size: 11pt; padding-left: 20pt; line-height: 140%">被线程执行，又可以作为</span><span style="font-family: Consolas; font-size: 11pt; padding-left: 20pt; line-height: 140%">Future</span><span style="font-family: 微软雅黑; font-size: 11pt; padding-left: 20pt; line-height: 140%">得到</span><span style="font-family: Consolas; font-size: 11pt; text-decoration: underline; padding-left: 20pt; line-height: 140%">Callable</span><span style="font-family: 微软雅黑; font-size: 11pt; padding-left: 20pt; line-height: 140%">的返回值</span></div>
<div><span style="font-family: ????; font-size: 11pt; padding-left: 20pt; line-height: 140%"> &nbsp;</span><span style="font-family: Consolas; font-size: 11pt; padding-left: 20pt; line-height: 140%">* Future</span><span style="font-family: 微软雅黑; font-size: 11pt; padding-left: 20pt; line-height: 140%">的</span><span style="font-family: Consolas; font-size: 11pt; padding-left: 20pt; line-height: 140%">get</span><span style="font-family: 微软雅黑; font-size: 11pt; padding-left: 20pt; line-height: 140%">方法很好的替代的了</span><span style="font-family: Consolas; font-size: 11pt; padding-left: 20pt; line-height: 140%">Thread.join</span><span style="font-family: 微软雅黑; font-size: 11pt; padding-left: 20pt; line-height: 140%">或</span><span style="font-family: Consolas; font-size: 11pt; padding-left: 20pt; line-height: 140%">Thread,join(long </span><span style="font-family: Consolas; font-size: 11pt; text-decoration: underline; padding-left: 20pt; line-height: 140%">millis</span><span style="font-family: Consolas; font-size: 11pt; padding-left: 20pt; line-height: 140%">)</span></div>
<div><br /></div>
<div><span style="font-family: 微软雅黑; font-size: 9pt; color: #000000; padding-left: 40pt; line-height: 140%"> &nbsp; &nbsp; &nbsp; &nbsp;</span><img src="img_18434.jpg" style="padding-left: 40pt; line-height: 140%"></img></div>
<div><span style="font-family: Consolas; font-size: 11pt; font-weight: bold; color: #7f0055; padding-left: 40pt; line-height: 140%">public</span><span style="font-family: Consolas; font-size: 11pt; color: #000000; padding-left: 40pt; line-height: 140%"> </span><span style="font-family: Consolas; font-size: 11pt; font-weight: bold; color: #7f0055; padding-left: 40pt; line-height: 140%">class</span><span style="font-family: Consolas; font-size: 11pt; color: #000000; padding-left: 40pt; line-height: 140%"> RandomCallable </span><span style="font-family: Consolas; font-size: 11pt; font-weight: bold; color: #7f0055; padding-left: 40pt; line-height: 140%">implements</span><span style="font-family: Consolas; font-size: 11pt; color: #000000; padding-left: 40pt; line-height: 140%"> </span><span style="font-family: Consolas; font-size: 11pt; text-decoration: underline; color: #000000; padding-left: 40pt; line-height: 140%">Callable</span><span style="font-family: Consolas; font-size: 11pt; color: #000000; padding-left: 40pt; line-height: 140%">{</span></div>
<div><br /></div>
<div><span style="font-family: Consolas; font-size: 11pt; color: #000000; padding-left: 40pt; line-height: 140%"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-family: Consolas; font-size: 11pt; color: #646464; padding-left: 40pt; line-height: 140%">@Override</span></div>
<div><span style="font-family: Consolas; font-size: 11pt; color: #000000; padding-left: 40pt; line-height: 140%"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-family: Consolas; font-size: 11pt; font-weight: bold; color: #7f0055; padding-left: 40pt; line-height: 140%">public</span><span style="font-family: Consolas; font-size: 11pt; color: #000000; padding-left: 40pt; line-height: 140%"> Integer call() </span><span style="font-family: Consolas; font-size: 11pt; font-weight: bold; color: #7f0055; padding-left: 40pt; line-height: 140%">throws</span><span style="font-family: Consolas; font-size: 11pt; color: #000000; padding-left: 40pt; line-height: 140%"> Exception { &nbsp; &nbsp; &nbsp; &nbsp;</span></div>
<div><span style="font-family: Consolas; font-size: 11pt; color: #000000; padding-left: 40pt; line-height: 140%"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Thread.</span><span style="font-family: Consolas; font-size: 11pt; font-style: italic; color: #000000; padding-left: 40pt; line-height: 140%">sleep</span><span style="font-family: Consolas; font-size: 11pt; color: #000000; padding-left: 40pt; line-height: 140%">(5000);</span></div>
<div><span style="font-family: Consolas; font-size: 11pt; color: #000000; padding-left: 40pt; line-height: 140%"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-family: Consolas; font-size: 11pt; font-weight: bold; color: #7f0055; padding-left: 40pt; line-height: 140%">return</span><span style="font-family: Consolas; font-size: 11pt; color: #000000; padding-left: 40pt; line-height: 140%"> </span><span style="font-family: Consolas; font-size: 11pt; font-weight: bold; color: #7f0055; padding-left: 40pt; line-height: 140%">new</span><span style="font-family: Consolas; font-size: 11pt; color: #000000; padding-left: 40pt; line-height: 140%"> Random().nextInt(10);</span></div>
<div><span style="font-family: Consolas; font-size: 11pt; color: #000000; padding-left: 40pt; line-height: 140%"> &nbsp; &nbsp; &nbsp; &nbsp;}</span></div>
<div><span style="font-family: Consolas; font-size: 11pt; color: #000000; padding-left: 40pt; line-height: 140%"> &nbsp; &nbsp; &nbsp; &nbsp;</span></div>
<div><span style="font-family: Consolas; font-size: 11pt; color: #000000; padding-left: 40pt; line-height: 140%"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-family: Consolas; font-size: 11pt; font-weight: bold; color: #7f0055; padding-left: 40pt; line-height: 140%">public</span><span style="font-family: Consolas; font-size: 11pt; color: #000000; padding-left: 40pt; line-height: 140%"> </span><span style="font-family: Consolas; font-size: 11pt; font-weight: bold; color: #7f0055; padding-left: 40pt; line-height: 140%">static</span><span style="font-family: Consolas; font-size: 11pt; color: #000000; padding-left: 40pt; line-height: 140%"> </span><span style="font-family: Consolas; font-size: 11pt; font-weight: bold; color: #7f0055; padding-left: 40pt; line-height: 140%">void</span><span style="font-family: Consolas; font-size: 11pt; color: #000000; padding-left: 40pt; line-height: 140%"> main(String[] </span><span style="font-family: Consolas; font-size: 11pt; color: #6a3e3e; padding-left: 40pt; line-height: 140%">args</span><span style="font-family: Consolas; font-size: 11pt; color: #000000; padding-left: 40pt; line-height: 140%">) </span><span style="font-family: Consolas; font-size: 11pt; font-weight: bold; color: #7f0055; padding-left: 40pt; line-height: 140%">throws</span><span style="font-family: Consolas; font-size: 11pt; color: #000000; padding-left: 40pt; line-height: 140%"> InterruptedException, ExecutionException {</span></div>
<div><span style="font-family: Consolas; font-size: 11pt; color: #000000; padding-left: 40pt; line-height: 140%"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span></div>
<div><span style="font-family: Consolas; font-size: 11pt; color: #000000; padding-left: 40pt; line-height: 140%"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-family: Consolas; font-size: 11pt; color: #3f7f5f; padding-left: 40pt; line-height: 140%">//</span><span style="font-family: 微软雅黑; font-size: 11pt; color: #3f7f5f; padding-left: 40pt; line-height: 140%">创建任务</span></div>
<div><span style="font-family: Consolas; font-size: 11pt; color: #000000; padding-left: 40pt; line-height: 140%"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;RandomCallable &nbsp;</span><span style="font-family: Consolas; font-size: 11pt; color: #6a3e3e; padding-left: 40pt; line-height: 140%">callable</span><span style="font-family: Consolas; font-size: 11pt; color: #000000; padding-left: 40pt; line-height: 140%"> = </span><span style="font-family: Consolas; font-size: 11pt; font-weight: bold; color: #7f0055; padding-left: 40pt; line-height: 140%">new</span><span style="font-family: Consolas; font-size: 11pt; color: #000000; padding-left: 40pt; line-height: 140%"> RandomCallable();</span></div>
<div><span style="font-family: Consolas; font-size: 11pt; color: #000000; padding-left: 40pt; line-height: 140%"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-family: Consolas; font-size: 11pt; color: #3f7f5f; padding-left: 40pt; line-height: 140%">//</span><span style="font-family: 微软雅黑; font-size: 11pt; color: #3f7f5f; padding-left: 40pt; line-height: 140%">交给任务管理器</span></div>
<div><span style="font-family: Consolas; font-size: 11pt; color: #000000; padding-left: 40pt; line-height: 140%"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-family: Consolas; font-size: 11pt; text-decoration: underline; color: #000000; padding-left: 40pt; line-height: 140%">FutureTask</span><span style="font-family: Consolas; font-size: 11pt; color: #000000; padding-left: 40pt; line-height: 140%"> </span><span style="font-family: Consolas; font-size: 11pt; color: #6a3e3e; background-color: #f0d8a8; padding-left: 40pt; line-height: 140%">task</span><span style="font-family: Consolas; font-size: 11pt; color: #000000; padding-left: 40pt; line-height: 140%"> = </span><span style="font-family: Consolas; font-size: 11pt; font-weight: bold; color: #7f0055; padding-left: 40pt; line-height: 140%">new</span><span style="font-family: Consolas; font-size: 11pt; color: #000000; padding-left: 40pt; line-height: 140%"> FutureTask&lt;Integer&gt;(</span><span style="font-family: Consolas; font-size: 11pt; text-decoration: underline; color: #6a3e3e; padding-left: 40pt; line-height: 140%">callable</span><span style="font-family: Consolas; font-size: 11pt; color: #000000; padding-left: 40pt; line-height: 140%">);</span></div>
<div><span style="font-family: Consolas; font-size: 11pt; color: #000000; padding-left: 40pt; line-height: 140%"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span></div>
<div><span style="font-family: Consolas; font-size: 11pt; color: #000000; padding-left: 40pt; line-height: 140%"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;System.</span><span style="font-family: Consolas; font-size: 11pt; font-weight: bold; font-style: italic; color: #0000c0; padding-left: 40pt; line-height: 140%">out</span><span style="font-family: Consolas; font-size: 11pt; color: #000000; padding-left: 40pt; line-height: 140%">.println(</span><span style="font-family: Consolas; font-size: 11pt; color: #6a3e3e; background-color: #d4d4d4; padding-left: 40pt; line-height: 140%">task</span><span style="font-family: Consolas; font-size: 11pt; color: #000000; padding-left: 40pt; line-height: 140%">.isDone());</span></div>
<div><span style="font-family: Consolas; font-size: 11pt; color: #000000; padding-left: 40pt; line-height: 140%"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span></div>
<div><span style="font-family: Consolas; font-size: 11pt; color: #000000; padding-left: 40pt; line-height: 140%"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-family: Consolas; font-size: 11pt; color: #3f7f5f; padding-left: 40pt; line-height: 140%">//</span><span style="font-family: 微软雅黑; font-size: 11pt; color: #3f7f5f; padding-left: 40pt; line-height: 140%">启动线程</span><span style="font-family: Consolas; font-size: 11pt; color: #3f7f5f; padding-left: 40pt; line-height: 140%"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span></div>
<div><span style="font-family: Consolas; font-size: 11pt; color: #000000; padding-left: 40pt; line-height: 140%"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-family: Consolas; font-size: 11pt; font-weight: bold; color: #7f0055; padding-left: 40pt; line-height: 140%">new</span><span style="font-family: Consolas; font-size: 11pt; color: #000000; padding-left: 40pt; line-height: 140%"> Thread(</span><span style="font-family: Consolas; font-size: 11pt; color: #6a3e3e; background-color: #d4d4d4; padding-left: 40pt; line-height: 140%">task</span><span style="font-family: Consolas; font-size: 11pt; color: #000000; padding-left: 40pt; line-height: 140%">).start();</span></div>
<div><span style="font-family: Consolas; font-size: 11pt; color: #000000; padding-left: 40pt; line-height: 140%"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span></div>
<div><span style="font-family: Consolas; font-size: 11pt; color: #000000; padding-left: 40pt; line-height: 140%"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;System.</span><span style="font-family: Consolas; font-size: 11pt; font-weight: bold; font-style: italic; color: #0000c0; padding-left: 40pt; line-height: 140%">out</span><span style="font-family: Consolas; font-size: 11pt; color: #000000; padding-left: 40pt; line-height: 140%">.println(</span><span style="font-family: Consolas; font-size: 11pt; color: #6a3e3e; background-color: #d4d4d4; padding-left: 40pt; line-height: 140%">task</span><span style="font-family: Consolas; font-size: 11pt; color: #000000; padding-left: 40pt; line-height: 140%">.get()); </span><span style="font-family: Consolas; font-size: 11pt; color: #3f7f5f; padding-left: 40pt; line-height: 140%">//</span><span style="font-family: 微软雅黑; font-size: 11pt; color: #3f7f5f; padding-left: 40pt; line-height: 140%">！！要得到结果，是不是必须等线程执行完毕呀，否则后面代码不会执行</span></div>
<div><span style="font-family: Consolas; font-size: 11pt; color: #000000; padding-left: 40pt; line-height: 140%"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span></div>
<div><span style="font-family: Consolas; font-size: 11pt; color: #000000; padding-left: 40pt; line-height: 140%"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;System.</span><span style="font-family: Consolas; font-size: 11pt; font-weight: bold; font-style: italic; color: #0000c0; padding-left: 40pt; line-height: 140%">out</span><span style="font-family: Consolas; font-size: 11pt; color: #000000; padding-left: 40pt; line-height: 140%">.println(</span><span style="font-family: Consolas; font-size: 11pt; color: #6a3e3e; background-color: #d4d4d4; padding-left: 40pt; line-height: 140%">task</span><span style="font-family: Consolas; font-size: 11pt; color: #000000; padding-left: 40pt; line-height: 140%">.isDone()); &nbsp; &nbsp; &nbsp; &nbsp;</span></div>
<div><span style="font-family: Consolas; font-size: 11pt; color: #000000; padding-left: 40pt; line-height: 140%"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span></div>
<div><span style="font-family: Consolas; font-size: 11pt; color: #000000; padding-left: 40pt; line-height: 140%"> &nbsp; &nbsp; &nbsp; &nbsp;} &nbsp; &nbsp; &nbsp; &nbsp;</span></div>
<div><span style="font-family: Consolas; font-size: 11pt; color: #000000; padding-left: 40pt; line-height: 140%">}</span></div>
<div><br /></div>
<div><br /></div>
<div><span style="font-family: Consolas; font-size: 11pt; font-weight: bold; color: #7f0055; padding-left: 40pt; line-height: 140%">public</span><span style="font-family: Consolas; font-size: 11pt; color: #000000; padding-left: 40pt; line-height: 140%"> </span><span style="font-family: Consolas; font-size: 11pt; font-weight: bold; color: #7f0055; padding-left: 40pt; line-height: 140%">class</span><span style="font-family: Consolas; font-size: 11pt; color: #000000; padding-left: 40pt; line-height: 140%"> RandomCallable2{</span></div>
<div><br /></div>
<div><span style="font-family: Consolas; font-size: 11pt; color: #000000; padding-left: 40pt; line-height: 140%"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-family: Consolas; font-size: 11pt; font-weight: bold; color: #7f0055; padding-left: 40pt; line-height: 140%">public</span><span style="font-family: Consolas; font-size: 11pt; color: #000000; padding-left: 40pt; line-height: 140%"> </span><span style="font-family: Consolas; font-size: 11pt; font-weight: bold; color: #7f0055; padding-left: 40pt; line-height: 140%">static</span><span style="font-family: Consolas; font-size: 11pt; color: #000000; padding-left: 40pt; line-height: 140%"> </span><span style="font-family: Consolas; font-size: 11pt; font-weight: bold; color: #7f0055; padding-left: 40pt; line-height: 140%">void</span><span style="font-family: Consolas; font-size: 11pt; color: #000000; padding-left: 40pt; line-height: 140%"> main(String[] </span><span style="font-family: Consolas; font-size: 11pt; color: #6a3e3e; padding-left: 40pt; line-height: 140%">args</span><span style="font-family: Consolas; font-size: 11pt; color: #000000; padding-left: 40pt; line-height: 140%">) </span><span style="font-family: Consolas; font-size: 11pt; font-weight: bold; color: #7f0055; padding-left: 40pt; line-height: 140%">throws</span><span style="font-family: Consolas; font-size: 11pt; color: #000000; padding-left: 40pt; line-height: 140%"> InterruptedException, ExecutionException {</span></div>
<div><span style="font-family: Consolas; font-size: 11pt; color: #000000; padding-left: 40pt; line-height: 140%"> &nbsp; &nbsp; &nbsp; &nbsp;</span></div>
<div><span style="font-family: Consolas; font-size: 11pt; color: #000000; padding-left: 40pt; line-height: 140%"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Callable&lt;Integer&gt; </span><span style="font-family: Consolas; font-size: 11pt; color: #6a3e3e; padding-left: 40pt; line-height: 140%">callable</span><span style="font-family: Consolas; font-size: 11pt; color: #000000; padding-left: 40pt; line-height: 140%"> = </span><span style="font-family: Consolas; font-size: 11pt; font-weight: bold; color: #7f0055; padding-left: 40pt; line-height: 140%">new</span><span style="font-family: Consolas; font-size: 11pt; color: #000000; padding-left: 40pt; line-height: 140%"> Callable&lt;Integer&gt;() {</span></div>
<div><span style="font-family: Consolas; font-size: 11pt; color: #000000; padding-left: 40pt; line-height: 140%"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-family: Consolas; font-size: 11pt; color: #646464; padding-left: 40pt; line-height: 140%">@Override</span></div>
<div><span style="font-family: Consolas; font-size: 11pt; color: #000000; padding-left: 40pt; line-height: 140%"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-family: Consolas; font-size: 11pt; font-weight: bold; color: #7f0055; padding-left: 40pt; line-height: 140%">public</span><span style="font-family: Consolas; font-size: 11pt; color: #000000; padding-left: 40pt; line-height: 140%"> Integer call() </span><span style="font-family: Consolas; font-size: 11pt; font-weight: bold; color: #7f0055; padding-left: 40pt; line-height: 140%">throws</span><span style="font-family: Consolas; font-size: 11pt; color: #000000; padding-left: 40pt; line-height: 140%"> Exception {</span></div>
<div><span style="font-family: Consolas; font-size: 11pt; color: #000000; padding-left: 40pt; line-height: 140%"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-family: Consolas; font-size: 11pt; color: #3f7f5f; padding-left: 40pt; line-height: 140%">//</span><span style="font-family: 微软雅黑; font-size: 11pt; color: #3f7f5f; padding-left: 40pt; line-height: 140%">做某些事情</span></div>
<div><span style="font-family: Consolas; font-size: 11pt; color: #000000; padding-left: 40pt; line-height: 140%"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Thread.</span><span style="font-family: Consolas; font-size: 11pt; font-style: italic; color: #000000; padding-left: 40pt; line-height: 140%">sleep</span><span style="font-family: Consolas; font-size: 11pt; color: #000000; padding-left: 40pt; line-height: 140%">(5000);</span></div>
<div><span style="font-family: Consolas; font-size: 11pt; color: #000000; padding-left: 40pt; line-height: 140%"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-family: Consolas; font-size: 11pt; color: #3f7f5f; padding-left: 40pt; line-height: 140%">//</span><span style="font-family: 微软雅黑; font-size: 11pt; color: #3f7f5f; padding-left: 40pt; line-height: 140%">返回值</span></div>
<div><span style="font-family: Consolas; font-size: 11pt; color: #000000; padding-left: 40pt; line-height: 140%"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-family: Consolas; font-size: 11pt; font-weight: bold; color: #7f0055; padding-left: 40pt; line-height: 140%">return</span><span style="font-family: Consolas; font-size: 11pt; color: #000000; padding-left: 40pt; line-height: 140%"> </span><span style="font-family: Consolas; font-size: 11pt; font-weight: bold; color: #7f0055; padding-left: 40pt; line-height: 140%">new</span><span style="font-family: Consolas; font-size: 11pt; color: #000000; padding-left: 40pt; line-height: 140%"> Random().nextInt(100);</span></div>
<div><span style="font-family: Consolas; font-size: 11pt; color: #000000; padding-left: 40pt; line-height: 140%"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span></div>
<div><span style="font-family: Consolas; font-size: 11pt; color: #000000; padding-left: 40pt; line-height: 140%"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}</span></div>
<div><span style="font-family: Consolas; font-size: 11pt; color: #000000; padding-left: 40pt; line-height: 140%"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;};</span></div>
<div><span style="font-family: Consolas; font-size: 11pt; color: #000000; padding-left: 40pt; line-height: 140%"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-family: Consolas; font-size: 11pt; text-decoration: underline; color: #000000; padding-left: 40pt; line-height: 140%">FutureTask</span><span style="font-family: Consolas; font-size: 11pt; color: #000000; padding-left: 40pt; line-height: 140%"> </span><span style="font-family: Consolas; font-size: 11pt; color: #6a3e3e; padding-left: 40pt; line-height: 140%">task</span><span style="font-family: Consolas; font-size: 11pt; color: #000000; padding-left: 40pt; line-height: 140%"> = </span><span style="font-family: Consolas; font-size: 11pt; font-weight: bold; color: #7f0055; padding-left: 40pt; line-height: 140%">new</span><span style="font-family: Consolas; font-size: 11pt; color: #000000; padding-left: 40pt; line-height: 140%"> FutureTask&lt;Integer&gt;(</span><span style="font-family: Consolas; font-size: 11pt; color: #6a3e3e; padding-left: 40pt; line-height: 140%">callable</span><span style="font-family: Consolas; font-size: 11pt; color: #000000; padding-left: 40pt; line-height: 140%">);</span></div>
<div><span style="font-family: Consolas; font-size: 11pt; color: #000000; padding-left: 40pt; line-height: 140%"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;System.</span><span style="font-family: Consolas; font-size: 11pt; font-weight: bold; font-style: italic; color: #0000c0; padding-left: 40pt; line-height: 140%">out</span><span style="font-family: Consolas; font-size: 11pt; color: #000000; padding-left: 40pt; line-height: 140%">.println(</span><span style="font-family: Consolas; font-size: 11pt; color: #6a3e3e; padding-left: 40pt; line-height: 140%">task</span><span style="font-family: Consolas; font-size: 11pt; color: #000000; padding-left: 40pt; line-height: 140%">.isDone());</span></div>
<div><span style="font-family: Consolas; font-size: 11pt; color: #000000; padding-left: 40pt; line-height: 140%"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span></div>
<div><span style="font-family: Consolas; font-size: 11pt; color: #000000; padding-left: 40pt; line-height: 140%"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-family: Consolas; font-size: 11pt; font-weight: bold; color: #7f0055; padding-left: 40pt; line-height: 140%">new</span><span style="font-family: Consolas; font-size: 11pt; color: #000000; padding-left: 40pt; line-height: 140%"> Thread(</span><span style="font-family: Consolas; font-size: 11pt; color: #6a3e3e; padding-left: 40pt; line-height: 140%">task</span><span style="font-family: Consolas; font-size: 11pt; color: #000000; padding-left: 40pt; line-height: 140%">).start();</span></div>
<div><span style="font-family: Consolas; font-size: 11pt; color: #000000; padding-left: 40pt; line-height: 140%"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;System.</span><span style="font-family: Consolas; font-size: 11pt; font-weight: bold; font-style: italic; color: #0000c0; padding-left: 40pt; line-height: 140%">out</span><span style="font-family: Consolas; font-size: 11pt; color: #000000; padding-left: 40pt; line-height: 140%">.println(</span><span style="font-family: Consolas; font-size: 11pt; color: #2a00ff; padding-left: 40pt; line-height: 140%">&quot;abc&quot;</span><span style="font-family: Consolas; font-size: 11pt; color: #000000; padding-left: 40pt; line-height: 140%">);</span></div>
<div><span style="font-family: Consolas; font-size: 11pt; color: #000000; padding-left: 40pt; line-height: 140%"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;System.</span><span style="font-family: Consolas; font-size: 11pt; font-weight: bold; font-style: italic; color: #0000c0; padding-left: 40pt; line-height: 140%">out</span><span style="font-family: Consolas; font-size: 11pt; color: #000000; padding-left: 40pt; line-height: 140%">.println(</span><span style="font-family: Consolas; font-size: 11pt; color: #6a3e3e; padding-left: 40pt; line-height: 140%">task</span><span style="font-family: Consolas; font-size: 11pt; color: #000000; padding-left: 40pt; line-height: 140%">.get()); </span><span style="font-family: Consolas; font-size: 11pt; color: #3f7f5f; padding-left: 40pt; line-height: 140%">//</span></div>
<div><span style="font-family: Consolas; font-size: 11pt; color: #000000; padding-left: 40pt; line-height: 140%"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;System.</span><span style="font-family: Consolas; font-size: 11pt; font-weight: bold; font-style: italic; color: #0000c0; padding-left: 40pt; line-height: 140%">out</span><span style="font-family: Consolas; font-size: 11pt; color: #000000; padding-left: 40pt; line-height: 140%">.println(</span><span style="font-family: Consolas; font-size: 11pt; color: #2a00ff; padding-left: 40pt; line-height: 140%">&quot;abc&quot;</span><span style="font-family: Consolas; font-size: 11pt; color: #000000; padding-left: 40pt; line-height: 140%">);</span></div>
<div><span style="font-family: Consolas; font-size: 11pt; color: #000000; padding-left: 40pt; line-height: 140%"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;System.</span><span style="font-family: Consolas; font-size: 11pt; font-weight: bold; font-style: italic; color: #0000c0; padding-left: 40pt; line-height: 140%">out</span><span style="font-family: Consolas; font-size: 11pt; color: #000000; padding-left: 40pt; line-height: 140%">.println(</span><span style="font-family: Consolas; font-size: 11pt; color: #6a3e3e; padding-left: 40pt; line-height: 140%">task</span><span style="font-family: Consolas; font-size: 11pt; color: #000000; padding-left: 40pt; line-height: 140%">.isDone()); &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span></div>
<div><span style="font-family: Consolas; font-size: 11pt; color: #000000; padding-left: 40pt; line-height: 140%"> &nbsp; &nbsp; &nbsp; &nbsp;}</span></div>
<div><span style="font-family: Consolas; font-size: 11pt; color: #000000; padding-left: 40pt; line-height: 140%">}</span></div>
<div><br /></div>
<ul id="ID_PictFileNames" style="display: none">
<li fn="img_18434.jpg"></li></ul>
<div id="ID_Footer" style="text-align: right; margin-top: 4em; padding-top: 4px; border-top: 2px solid gray">Generated with <a href="http://www.wjjsoft.com/cgi-bin/redir.cgi?ref=htmltree&q=mybase" target="_blank">myBase/HtmlTree Maker</a> by <a href="http://www.wjjsoft.com/cgi-bin/redir.cgi?ref=htmltree&q=home" target="_blank">Wjj Software</a></div><script type="text/javascript" language="javascript" src="jquery.js"></script><script type="text/javascript" language="javascript" src="itemlink.js"></script></body></html>