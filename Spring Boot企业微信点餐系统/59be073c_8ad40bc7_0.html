<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
		<style>
			table{border-collapse: collapse; border: 1px solid gray; border-width: 2px 1px 2px 1px;}
			th{border: 1px solid gray; padding: 4px; background-color: #ddd;}
			td{border: 1px solid gray; padding: 4px;}
			tr:nth-child(2n){background-color: #f8f8f8;}
			pre{border: 2px solid #d6d6d6; padding: 0px; border-radius: 3px;}
		</style>
	</head>
	<body style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space; ">
		<div><img src="data:image/png;base64,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" />
		</div>
		<div>
			<meta http-equiv="content-type" content="text/html; charset=utf-8" />
			<pre style="background-color:#ffffff;color:#000000;font-family:'Consolas';font-size:13.5pt;">
<span style="color:#000080;font-weight:bold;">package </span>com.imooc.sell.service;<br><br><span style="color:#000080;font-weight:bold;">import </span>com.imooc.sell.dto.OrderDTO;<br><br><span style="color:#008000;font-weight:bold;">/**<br></span><span style="color:#008000;font-weight:bold;"> * </span><span style="color:#008000;font-weight:bold;font-family:'宋体';">买家<br></span><span style="color:#008000;font-weight:bold;font-family:'宋体';"> </span><span style="color:#008000;font-weight:bold;">* Created by 80003415<br></span><span style="color:#008000;font-weight:bold;"> * 2018-08-22 23:21<br></span><span style="color:#008000;font-weight:bold;"> */<br></span><span style="color:#000080;font-weight:bold;">public interface </span>BuyerService {<br><br>    <span style="color:#008000;font-weight:bold;">//</span><span style="color:#008000;font-weight:bold;font-family:'宋体';">查询一个订单<br></span><span style="color:#008000;font-weight:bold;font-family:'宋体';">    </span>OrderDTO findOrderOne(String openid, String orderId);<br><br>    <span style="color:#008000;font-weight:bold;">//</span><span style="color:#008000;font-weight:bold;font-family:'宋体';">取消订单<br></span><span style="color:#008000;font-weight:bold;font-family:'宋体';">    </span>OrderDTO cancelOrder(String openid, String orderId);<br>}<br></pre>
		</div>
		<div><img src="data:image/png;base64,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" />
		</div>
		<div>
			<meta http-equiv="content-type" content="text/html; charset=utf-8" />
			<pre style="background-color:#ffffff;color:#000000;font-family:'Consolas';font-size:13.5pt;">
<span style="color:#000080;font-weight:bold;">package </span>com.imooc.sell.service.impl;<br><br><span style="color:#000080;font-weight:bold;">import </span>com.imooc.sell.dto.OrderDTO;<br><span style="color:#000080;font-weight:bold;">import </span>com.imooc.sell.enums.ResultEnum;<br><span style="color:#000080;font-weight:bold;">import </span>com.imooc.sell.exception.SellException;<br><span style="color:#000080;font-weight:bold;">import </span>com.imooc.sell.service.BuyerService;<br><span style="color:#000080;font-weight:bold;">import </span>com.imooc.sell.service.OrderService;<br><span style="color:#000080;font-weight:bold;">import </span>lombok.extern.slf4j.<span style="color:#808000;">Slf4j</span>;<br><span style="color:#000080;font-weight:bold;">import </span>org.springframework.beans.factory.annotation.<span style="color:#808000;">Autowired</span>;<br><span style="color:#000080;font-weight:bold;">import </span>org.springframework.stereotype.<span style="color:#808000;">Service</span>;<br><br><span style="color:#008000;font-weight:bold;">/**<br></span><span style="color:#008000;font-weight:bold;"> * Created by 80003415<br></span><span style="color:#008000;font-weight:bold;"> * 2018-08-22 23:22<br></span><span style="color:#008000;font-weight:bold;"> */<br></span><span style="color:#808000;">@Service<br></span><span style="color:#808000;">@Slf4j<br></span><span style="color:#000080;font-weight:bold;">public class </span>BuyerServiceImpl <span style="color:#000080;font-weight:bold;">implements </span>BuyerService {<br><br>    <span style="color:#808000;">@Autowired<br></span><span style="color:#808000;">    </span><span style="color:#000080;font-weight:bold;">private </span>OrderService <span style="color:#660e7a;font-weight:bold;">orderService</span>;<br><br>    <span style="color:#808000;">@Override<br></span><span style="color:#808000;">    </span><span style="color:#000080;font-weight:bold;">public </span>OrderDTO findOrderOne(String openid, String orderId) {<br>        <span style="color:#000080;font-weight:bold;">return </span>checkOrderOwner(openid, orderId);<br>    }<br><br>    <span style="color:#808000;">@Override<br></span><span style="color:#808000;">    </span><span style="color:#000080;font-weight:bold;">public </span>OrderDTO cancelOrder(String openid, String orderId) {<br>        OrderDTO orderDTO = checkOrderOwner(openid, orderId);<br>        <span style="color:#000080;font-weight:bold;">if </span>(orderDTO == <span style="color:#000080;font-weight:bold;">null</span>) {<br>            <span style="color:#660e7a;font-weight:bold;font-style:italic;">log</span>.error(<span style="color:#008000;font-weight:bold;">"</span><span style="color:#008000;font-weight:bold;font-family:'宋体';">【取消订单】查不到改订单</span><span style="color:#008000;font-weight:bold;">, orderId={}"</span>, orderId);<br>            <span style="color:#000080;font-weight:bold;">throw new </span>SellException(ResultEnum.<span style="color:#660e7a;font-weight:bold;font-style:italic;">ORDER_NOT_EXIST</span>);<br>        }<br><br>        <span style="color:#000080;font-weight:bold;">return </span><span style="color:#660e7a;font-weight:bold;">orderService</span>.cancel(orderDTO);<br>    }<br><br>    <span style="color:#000080;font-weight:bold;">private </span>OrderDTO checkOrderOwner(String openid, String orderId) {<br>        OrderDTO orderDTO = <span style="color:#660e7a;font-weight:bold;">orderService</span>.findOne(orderId);<br>        <span style="color:#000080;font-weight:bold;">if </span>(orderDTO == <span style="color:#000080;font-weight:bold;">null</span>) {<br>            <span style="color:#000080;font-weight:bold;">return null</span>;<br>        }<br>        <span style="color:#008000;font-weight:bold;">//</span><span style="color:#008000;font-weight:bold;font-family:'宋体';">判断是否是自己的订单<br></span><span style="color:#008000;font-weight:bold;font-family:'宋体';">        </span><span style="color:#000080;font-weight:bold;">if </span>(!orderDTO.getBuyerOpenid().equalsIgnoreCase(openid)) {<br>            <span style="color:#660e7a;font-weight:bold;font-style:italic;">log</span>.error(<span style="color:#008000;font-weight:bold;">"</span><span style="color:#008000;font-weight:bold;font-family:'宋体';">【查询订单】订单的</span><span style="color:#008000;font-weight:bold;">openid</span><span style="color:#008000;font-weight:bold;font-family:'宋体';">不一致</span><span style="color:#008000;font-weight:bold;">. openid={}, orderDTO={}"</span>, openid, orderDTO);<br>            <span style="color:#000080;font-weight:bold;">throw new </span>SellException(ResultEnum.<span style="color:#660e7a;font-weight:bold;font-style:italic;">ORDER_OWNER_ERROR</span>);<br>        }<br>        <span style="color:#000080;font-weight:bold;">return </span>orderDTO;<br>    }<br>}<br></pre>
		</div>
		<div><img src="data:image/png;base64,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" />
		</div>
		<div>
			<meta http-equiv="content-type" content="text/html; charset=utf-8" />
			<pre style="color: rgb(0, 0, 0); font-family: Consolas; font-size: 13.5pt; ">
<span class="Apple-style-span" style="background-color: rgb(255, 255, 255); "><span style="color:#008000;font-weight:bold;">//</span><span style="color:#008000;font-weight:bold;font-family:'宋体';">订单详情<br></span><span style="color:#808000;">@GetMapping</span>(<span style="color:#008000;font-weight:bold;">"/detail"</span>)<br><span style="color:#000080;font-weight:bold;">public </span>ResultVO&lt;OrderDTO&gt; detail(<span style="color:#808000;">@RequestParam</span>(<span style="color:#008000;font-weight:bold;">"openid"</span>) String openid,<br>                                 <span style="color:#808000;">@RequestParam</span>(<span style="color:#008000;font-weight:bold;">"orderId"</span>) String orderId) {<br>    </span><span class="Apple-style-span" style="background-color: rgb(255, 255, 0);">OrderDTO orderDTO = <span style="color: rgb(102, 14, 122); font-weight: bold; ">buyerService</span>.findOrderOne(openid, orderId);</span><span class="Apple-style-span" style="background-color: rgb(255, 255, 255);"><br>    </span><span style="background-color: rgb(255, 255, 255); color: rgb(0, 0, 128); font-weight: bold; ">return </span><span class="Apple-style-span" style="background-color: rgb(255, 255, 255);">ResultVOUtil.</span><span style="background-color: rgb(255, 255, 255); font-style: italic; ">success</span><span class="Apple-style-span" style="background-color: rgb(255, 255, 255);">(orderDTO);<br>}<br><br></span><span style="background-color: rgb(255, 255, 255); color: rgb(0, 128, 0); font-weight: bold; ">//</span><span style="background-color: rgb(255, 255, 255); color: rgb(0, 128, 0); font-weight: bold; font-family: 宋体; ">取消订单<br></span><span style="background-color: rgb(255, 255, 255); color: rgb(128, 128, 0); ">@PostMapping</span><span class="Apple-style-span" style="background-color: rgb(255, 255, 255);">(</span><span style="background-color: rgb(255, 255, 255); color: rgb(0, 128, 0); font-weight: bold; ">"/cancel"</span><span class="Apple-style-span" style="background-color: rgb(255, 255, 255);">)<br></span><span style="background-color: rgb(255, 255, 255); color: rgb(0, 0, 128); font-weight: bold; ">public </span><span class="Apple-style-span" style="background-color: rgb(255, 255, 255);">ResultVO cancel(</span><span style="background-color: rgb(255, 255, 255); color: rgb(128, 128, 0); ">@RequestParam</span><span class="Apple-style-span" style="background-color: rgb(255, 255, 255);">(</span><span style="background-color: rgb(255, 255, 255); color: rgb(0, 128, 0); font-weight: bold; ">"openid"</span><span class="Apple-style-span" style="background-color: rgb(255, 255, 255);">) String openid,<br>                       </span><span style="background-color: rgb(255, 255, 255); color: rgb(128, 128, 0); ">@RequestParam</span><span class="Apple-style-span" style="background-color: rgb(255, 255, 255);">(</span><span style="background-color: rgb(255, 255, 255); color: rgb(0, 128, 0); font-weight: bold; ">"orderId"</span><span class="Apple-style-span" style="background-color: rgb(255, 255, 255);">) String orderId) {<br>    </span><span class="Apple-style-span" style="background-color: rgb(255, 255, 0);"><span style="color: rgb(102, 14, 122); font-weight: bold; ">buyerService</span>.cancelOrder(openid, orderId);</span><span class="Apple-style-span" style="background-color: rgb(255, 255, 255);"><br>    </span><span style="background-color: rgb(255, 255, 255); color: rgb(0, 0, 128); font-weight: bold; ">return </span><span class="Apple-style-span" style="background-color: rgb(255, 255, 255);">ResultVOUtil.</span><span style="background-color: rgb(255, 255, 255); font-style: italic; ">success</span><span class="Apple-style-span" style="background-color: rgb(255, 255, 255);">();<br>}</span></pre>
		</div>
		<div><br />
		</div>
		<div><br />
		</div>
		<div><br />
		</div>
		<div><br />
		</div>
		<div><br />
		</div>
		<div><br />
		</div>
		<div><br />
		</div>
		<div><br />
		</div>
		<div><br />
		</div>
		<div><br />
		</div>
		<div><br />
		</div>
		<div><br />
		</div>
		<div><br />
		</div>
		<div><br />
		</div>
		<div><br />
		</div>
	
<script type="text/javascript" language="javascript" src="jquery.js"></script>
<script type="text/javascript" language="javascript" src="itemlink.js"></script></body>
</html>