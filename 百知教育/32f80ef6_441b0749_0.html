<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
		<style>
			table{border-collapse: collapse; border: 1px solid gray; border-width: 2px 1px 2px 1px;}
			th{border: 1px solid gray; padding: 4px; background-color: #ddd;}
			td{border: 1px solid gray; padding: 4px;}
			tr:nth-child(2n){background-color: #f8f8f8;}
			pre{border: 2px solid #d6d6d6; padding: 0px; border-radius: 3px;}
		</style>
	</head>
	<body style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space; ">
		<div>
			<h2><span style="font-family:'微软雅黑',sans-serif;mso-ascii-font-family:'Times New Roman';
mso-hansi-font-family:'Times New Roman'">第</span><span lang="EN-US" style="font-family:'Times New Roman',serif;mso-fareast-font-family:微软雅黑">1</span><span style="font-family:'微软雅黑',sans-serif;mso-ascii-font-family:'Times New Roman';
mso-hansi-font-family:'Times New Roman'">讲</span><span style="font-family:'Times New Roman',serif;
mso-fareast-font-family:微软雅黑"> </span><span style="font-family:'微软雅黑',sans-serif;
mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman'">构建动态</span><span lang="EN-US" style="font-family:'Times New Roman',serif;mso-fareast-font-family:
微软雅黑">SQL--PreparedStatement<o:p></o:p></span>
			</h2>
			<h4 style="margin-left:21.0pt;text-indent:-21.0pt;mso-list:l0 level1 lfo1;
tab-stops:list 21.0pt"><span lang="EN-US" style="font-family:
'Times New Roman',serif;mso-fareast-font-family:'Times New Roman'"><span style="mso-list:Ignore">1.<span style="font:7.0pt 'Times New Roman'">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span></span><span style="font-family:'微软雅黑',sans-serif;
mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman'">使用</span><span lang="EN-US" style="font-family:'Times New Roman',serif;mso-fareast-font-family:
微软雅黑">Statement</span><span style="font-family:'微软雅黑',sans-serif;mso-ascii-font-family:
'Times New Roman';mso-hansi-font-family:'Times New Roman'">完成动态</span><span lang="EN-US" style="font-family:'Times New Roman',serif;mso-fareast-font-family:
微软雅黑">SQL</span><span style="font-family:'微软雅黑',sans-serif;mso-ascii-font-family:
'Times New Roman';mso-hansi-font-family:'Times New Roman'">构建</span><span lang="EN-US" style="font-family:'Times New Roman',serif;mso-fareast-font-family:
微软雅黑"><o:p></o:p></span>
			</h4>
			<p class="MsoNormal" style="text-indent:21.0pt"><span style="font-family:'微软雅黑',sans-serif;
mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman'">在开发</span><span lang="EN-US">JDBC</span><span style="font-family:'微软雅黑',sans-serif;mso-ascii-font-family:
'Times New Roman';mso-hansi-font-family:'Times New Roman'">的应用中，我们操作的数据可能不是一个直接给定的常量值，而是用户输入的变量值，那么，如何使用这些变量完成数据库操作呢？例如，完成一个登录功能，可以接受用户名，密码输入，用以处理用户的登录操作。</span><span lang="EN-US"><o:p></o:p></span>
			</p>
			<p class="MsoNormal" style="text-indent:21.0pt"><strong style="mso-bidi-font-weight:
normal"><span style="font-family:'微软雅黑',sans-serif;mso-ascii-font-family:'Times New Roman';
mso-hansi-font-family:'Times New Roman'">代码例子：</span><span lang="EN-US"><o:p></o:p></span></strong>
			</p>
			<p class="MsoNormal" style="text-indent:21.0pt"><strong style="mso-bidi-font-weight:
normal"><span lang="EN-US"><span style="mso-spacerun:yes">&nbsp;&nbsp;&nbsp; </span></span></strong><span lang="EN-US">SQL</span><span style="font-family:'微软雅黑',sans-serif;mso-ascii-font-family:
'Times New Roman';mso-hansi-font-family:'Times New Roman'">代码见</span><span lang="EN-US"><a href="jdbc.sql">jdbc\src\day1\account.sql</a></span><span style="font-family:'微软雅黑',sans-serif;mso-ascii-font-family:'Times New Roman';
mso-hansi-font-family:'Times New Roman'">；</span><span lang="EN-US"><o:p></o:p></span>
			</p>
			<p class="MsoNormal" style="text-indent:21.0pt"><span lang="EN-US"><span style="mso-spacerun:yes">&nbsp;&nbsp;&nbsp; </span>JDBC</span><span style="font-family:'微软雅黑',sans-serif;
mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman'">代码：</span><span lang="EN-US"><a href="jdbc/src/day1/FirstJdbc.java">jdbc\src\day2\<span style="color:windowtext;text-decoration:none;text-underline:none"> </span>LoginStatement.java</a><o:p></o:p></span>
			</p>
			<p class="MsoNormal"><span lang="EN-US"><span style="mso-tab-count:1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span style="font-family:'微软雅黑',sans-serif;mso-ascii-font-family:'Times New Roman';
mso-hansi-font-family:'Times New Roman'">在练习中，我们根据用户输入动态生成</span><span lang="EN-US">SQL</span><span style="font-family:'微软雅黑',sans-serif;mso-ascii-font-family:
'Times New Roman';mso-hansi-font-family:'Times New Roman'">。这种方式中的字符串类型数据拼接时两边要加单引号。<a name="_Toc248126428">虽然通过字符串拼接完成了功能，但这种方式也存在问题</a>。试想如果用户输入的用户名及密码分别是</span><span lang="EN-US">&quot;huxz&quot;</span><span style="font-family:'微软雅黑',sans-serif;
mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman'">和</span><span lang="EN-US">&quot;444&apos; or username=&apos;huxz&quot;</span><span style="font-family:
'微软雅黑',sans-serif;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:
'Times New Roman'">，那么就会拼接出下面这样一条</span><span lang="EN-US">sql</span><span style="font-family:'微软雅黑',sans-serif;mso-ascii-font-family:'Times New Roman';
mso-hansi-font-family:'Times New Roman'">命令：</span><span lang="EN-US"><o:p></o:p></span>
			</p>
			<p class="MsoNormal"><span lang="EN-US"><span style="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;</span>String sql =&quot;select username,password from user_luxw where
username=&apos;&quot;+username<o:p></o:p></span>
			</p>
			<p class="MsoNormal"><span lang="EN-US"><span style="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>+&quot;&apos; and password=&apos;&quot;+password+&quot;&apos;&quot;;<o:p></o:p></span>
			</p>
			<p class="MsoNormal"><span lang="EN-US"><span style="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;</span>---&gt; </span><span style="font-family:'微软雅黑',sans-serif;mso-ascii-font-family:
'Times New Roman';mso-hansi-font-family:'Times New Roman'">拼接成功的</span><span lang="EN-US">sql</span><span style="font-family:'微软雅黑',sans-serif;mso-ascii-font-family:
'Times New Roman';mso-hansi-font-family:'Times New Roman'">是这样的</span><span lang="EN-US"><o:p></o:p></span>
			</p>
			<p class="MsoNormal"><span lang="EN-US"><span style="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;</span>select username,password from user_luxw where username=&apos;huxz&apos; and password=&apos;444&apos;<o:p></o:p></span>
			</p>
			<p class="MsoNormal"><span lang="EN-US"><span style="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>or username=&apos;huxz&apos; ;<o:p></o:p></span>
			</p>
			<p class="MsoNormal"><span style="font-family:'微软雅黑',sans-serif;mso-ascii-font-family:
'Times New Roman';mso-hansi-font-family:'Times New Roman'">可以发现，即使密码并不正确，这条</span><span lang="EN-US">sql</span><span style="font-family:'微软雅黑',sans-serif;mso-ascii-font-family:
'Times New Roman';mso-hansi-font-family:'Times New Roman'">执行后也会从数据库里查询到结果。这种问题就是由于采用拼字符串的方法生成动态</span><span lang="EN-US">SQL</span><span style="font-family:'微软雅黑',sans-serif;mso-ascii-font-family:
'Times New Roman';mso-hansi-font-family:'Times New Roman'">导致的一个后遗症，称之为</span><span lang="EN-US">SQL</span><span style="font-family:'微软雅黑',sans-serif;mso-ascii-font-family:
'Times New Roman';mso-hansi-font-family:'Times New Roman'">注入攻击漏洞。解决方法一：检查参数字符串中是否有一些敏感字符如</span><span lang="EN-US">or, =, &apos; </span><span style="font-family:'微软雅黑',sans-serif;
mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman'">等，解决方法二比较容易，就是采用</span><span lang="EN-US">JDBC</span><span style="font-family:'微软雅黑',sans-serif;mso-ascii-font-family:
'Times New Roman';mso-hansi-font-family:'Times New Roman'">提供的</span><span lang="EN-US">PreparedStatement</span><span style="font-family:'微软雅黑',sans-serif;
mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman'">。</span><span lang="EN-US"><o:p></o:p></span>
			</p>
			<h4 style="margin-left:21.0pt;text-indent:-21.0pt;mso-list:l0 level1 lfo1;
tab-stops:list 21.0pt"><a name="_Toc248126429"><span lang="EN-US" style="font-family:'Times New Roman',serif;mso-fareast-font-family:
'Times New Roman'"><span style="mso-list:Ignore">2.<span style="font:7.0pt 'Times New Roman'">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span></span><span style="font-family:'微软雅黑',sans-serif;
mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman'">使用</span></a><span style="mso-bookmark:_Toc248126429"><span lang="EN-US" style="font-family:'Times New Roman',serif;
mso-fareast-font-family:微软雅黑">PreparedStatement</span></span><span style="mso-bookmark:_Toc248126429"></span><span style="font-family:'微软雅黑',sans-serif;
mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman'">【重点】</span><span lang="EN-US" style="font-family:'Times New Roman',serif;mso-fareast-font-family:
微软雅黑"><o:p></o:p></span>
			</h4>
			<p class="MsoNormal" style="margin-left:21.0pt;text-indent:-21.0pt;mso-list:l1 level1 lfo5"><span lang="EN-US" style="mso-fareast-font-family:'Times New Roman'"><span style="mso-list:Ignore">1)<span style="font:7.0pt 'Times New Roman'">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span></span><strong style="mso-bidi-font-weight:normal"><span lang="EN-US">PreparedStatement</span></strong><strong style="mso-bidi-font-weight:normal"><span style="font-family:'微软雅黑',sans-serif;mso-ascii-font-family:'Times New Roman';
mso-hansi-font-family:'Times New Roman'">是</span><span lang="EN-US">Statement</span></strong><strong style="mso-bidi-font-weight:normal"><span style="font-family:'微软雅黑',sans-serif;
mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman'">的一个子接口，使用步骤分为</span><span lang="EN-US">3</span></strong><strong style="mso-bidi-font-weight:normal"><span style="font-family:'微软雅黑',sans-serif;mso-ascii-font-family:'Times New Roman';
mso-hansi-font-family:'Times New Roman'">步</span></strong><span style="font-family:
'微软雅黑',sans-serif;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:
'Times New Roman'">：</span><span lang="EN-US"><o:p></o:p></span>
			</p>
			<p class="MsoNormal" style="margin-left:42.3pt;text-indent:-21.0pt;mso-list:l5 level2 lfo2;
tab-stops:list 42.3pt"><span lang="EN-US" style="mso-fareast-font-family:
'Times New Roman'"><span style="mso-list:Ignore">A.<span style="font:7.0pt 'Times New Roman'">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span></span><span style="font-family:'微软雅黑',sans-serif;
mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman'">创建：通过连接获得</span><span lang="EN-US"> PreparedStatement </span><span style="font-family:'微软雅黑',sans-serif;
mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman'">对象</span><span lang="EN-US"><o:p></o:p></span>
			</p>
			<p class="MsoNormal"><span lang="EN-US"><span style="mso-tab-count:1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="mso-spacerun:yes">&nbsp;&nbsp; </span>PreparedStatment pstm = <o:p></o:p></span>
			</p>
			<p class="MsoNormal" style="text-indent:21.0pt"><span lang="EN-US"><span style="mso-spacerun:yes">&nbsp;&nbsp; </span>conn.prepareStatement(&quot;select * from
users_luxw where username=? and password=?&quot;);<o:p></o:p></span>
			</p>
			<p class="MsoNormal" style="text-indent:21.0pt"><span lang="EN-US"><span style="mso-spacerun:yes">&nbsp;&nbsp; </span></span><span style="font-family:'微软雅黑',sans-serif;
mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman'">创建时，将</span><span lang="EN-US">SQL</span><span style="font-family:'微软雅黑',sans-serif;mso-ascii-font-family:
'Times New Roman';mso-hansi-font-family:'Times New Roman'">语句中取值发生变化的部分用占位符</span><span lang="EN-US">(?)</span><span style="font-family:'微软雅黑',sans-serif;mso-ascii-font-family:
'Times New Roman';mso-hansi-font-family:'Times New Roman'">代替</span><span lang="EN-US"><o:p></o:p></span>
			</p>
			<p class="MsoNormal" style="text-indent:21.0pt"><span lang="EN-US"><span style="mso-spacerun:yes">&nbsp;&nbsp; </span></span><span style="font-family:'微软雅黑',sans-serif;
mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman'">注意：</span><span lang="EN-US"><o:p></o:p></span>
			</p>
			<p class="MsoNormal" style="margin-left:63.0pt;text-indent:-21.0pt;mso-list:l2 level1 lfo3"><span lang="EN-US" style="font-family:Wingdings;mso-fareast-font-family:Wingdings;
mso-bidi-font-family:Wingdings"><span style="mso-list:Ignore">l<span style="font:7.0pt 'Times New Roman'">&nbsp; </span></span></span><span lang="EN-US">?</span><span style="font-family:'微软雅黑',sans-serif;mso-ascii-font-family:
'Times New Roman';mso-hansi-font-family:'Times New Roman'">只能代表某一列的取值</span><span lang="EN-US">,</span><span style="font-family:'微软雅黑',sans-serif;mso-ascii-font-family:
'Times New Roman';mso-hansi-font-family:'Times New Roman'">不能表名、列名、视图名、序列名</span><span lang="EN-US"><o:p></o:p></span>
			</p>
			<p class="MsoNormal" style="margin-left:63.0pt;text-indent:-21.0pt;mso-list:l2 level1 lfo3"><span lang="EN-US" style="font-family:Wingdings;mso-fareast-font-family:Wingdings;
mso-bidi-font-family:Wingdings"><span style="mso-list:Ignore">l<span style="font:7.0pt 'Times New Roman'">&nbsp; </span></span></span><span style="font-family:'微软雅黑',sans-serif;mso-ascii-font-family:'Times New Roman';
mso-hansi-font-family:'Times New Roman'">此时</span><span lang="EN-US">JDBC</span><span style="font-family:'微软雅黑',sans-serif;mso-ascii-font-family:'Times New Roman';
mso-hansi-font-family:'Times New Roman'">客户端会向数据库服务器发送此条带参数的</span><span lang="EN-US">SQL</span><span style="font-family:'微软雅黑',sans-serif;mso-ascii-font-family:
'Times New Roman';mso-hansi-font-family:'Times New Roman'">语句，进行预编译，并放入共享池</span><span lang="EN-US"><o:p></o:p></span>
			</p>
			<p class="MsoNormal" style="margin-left:63.0pt;text-indent:-21.0pt;mso-list:l2 level1 lfo3"><span lang="EN-US" style="font-family:Wingdings;mso-fareast-font-family:Wingdings;
mso-bidi-font-family:Wingdings"><span style="mso-list:Ignore">l<span style="font:7.0pt 'Times New Roman'">&nbsp; </span></span></span><span lang="EN-US">oracle</span><span style="font-family:'微软雅黑',sans-serif;mso-ascii-font-family:
'Times New Roman';mso-hansi-font-family:'Times New Roman'">内部的执行过程：</span> <span lang="EN-US"><o:p></o:p></span>
			</p>
			<p class="MsoNormal" style="margin-left:63.0pt"><span style="font-family:'微软雅黑',sans-serif;
mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman'">权限检查</span><span lang="EN-US">--&gt; </span><span style="font-family:'微软雅黑',sans-serif;
mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman'">语法检查</span><span lang="EN-US"> --&gt; </span><span style="font-family:'微软雅黑',sans-serif;
mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman'">把</span><span lang="EN-US">SQL</span><span style="font-family:'微软雅黑',sans-serif;mso-ascii-font-family:
'Times New Roman';mso-hansi-font-family:'Times New Roman'">命令</span> <span style="font-family:'微软雅黑',sans-serif;mso-ascii-font-family:'Times New Roman';
mso-hansi-font-family:'Times New Roman'">转换成</span><span lang="EN-US"> oracle</span><span style="font-family:'微软雅黑',sans-serif;mso-ascii-font-family:'Times New Roman';
mso-hansi-font-family:'Times New Roman'">的内部指令</span><span lang="EN-US"> (1-3</span><span style="font-family:'微软雅黑',sans-serif;mso-ascii-font-family:'Times New Roman';
mso-hansi-font-family:'Times New Roman'">步统称为编译</span><span lang="EN-US">) --&gt;</span><span style="font-family:'微软雅黑',sans-serif;mso-ascii-font-family:'Times New Roman';
mso-hansi-font-family:'Times New Roman'">执行</span><span lang="EN-US">SQL<o:p></o:p></span>
			</p>
			<p class="MsoNormal" style="margin-left:42.3pt;text-indent:-21.0pt;mso-list:l5 level2 lfo2;
tab-stops:list 42.3pt"><span lang="EN-US" style="mso-fareast-font-family:
'Times New Roman'"><span style="mso-list:Ignore">B.<span style="font:7.0pt 'Times New Roman'">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span></span><span style="font-family:'微软雅黑',sans-serif;
mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman'">给</span><span lang="EN-US">?</span><span style="font-family:'微软雅黑',sans-serif;mso-ascii-font-family:
'Times New Roman';mso-hansi-font-family:'Times New Roman'">赋值</span><span lang="EN-US">(</span><span style="font-family:'微软雅黑',sans-serif;mso-ascii-font-family:
'Times New Roman';mso-hansi-font-family:'Times New Roman'">也称参数绑定</span><span lang="EN-US">)<o:p></o:p></span>
			</p>
			<p class="MsoNormal" style="margin-left:21.0pt"><span lang="EN-US"><span style="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span style="font-family:'微软雅黑',sans-serif;
mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman'">使用</span><span lang="EN-US">set[Type]</span><span style="font-family:'微软雅黑',sans-serif;
mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman'">方法给</span><span lang="EN-US">?</span><span style="font-family:'微软雅黑',sans-serif;mso-ascii-font-family:
'Times New Roman';mso-hansi-font-family:'Times New Roman'">赋值。其中</span><span lang="EN-US">Type</span><span style="font-family:'微软雅黑',sans-serif;mso-ascii-font-family:
'Times New Roman';mso-hansi-font-family:'Times New Roman'">表示</span><span lang="EN-US">?</span><span style="font-family:'微软雅黑',sans-serif;mso-ascii-font-family:
'Times New Roman';mso-hansi-font-family:'Times New Roman'">位置的数据类型。第一个参数代</span><span lang="EN-US"><o:p></o:p></span>
			</p>
			<p class="MsoNormal" style="margin-left:21.0pt"><span lang="EN-US"><span style="mso-spacerun:yes">&nbsp;&nbsp;&nbsp; </span></span><span style="font-family:'微软雅黑',sans-serif;
mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman'">表问号位置，从</span><span lang="EN-US">1</span><span style="font-family:'微软雅黑',sans-serif;mso-ascii-font-family:
'Times New Roman';mso-hansi-font-family:'Times New Roman'">开始；第二个参数是具体取值，比如：</span><span lang="EN-US"><o:p></o:p></span>
			</p>
			<p class="MsoNormal" style="margin-left:21.0pt"><span lang="EN-US"><span style="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>pstm.setString(1, username);<o:p></o:p></span>
			</p>
			<p class="MsoNormal" style="margin-left:21.0pt"><span lang="EN-US"><span style="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>pstm.setString(2, password);<o:p></o:p></span>
			</p>
			<p class="MsoNormal" style="margin-left:42.3pt;text-indent:-21.0pt;mso-list:l5 level2 lfo2;
tab-stops:list 42.3pt"><span lang="EN-US" style="mso-fareast-font-family:
'Times New Roman'"><span style="mso-list:Ignore">C.<span style="font:7.0pt 'Times New Roman'">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span></span><span style="font-family:'微软雅黑',sans-serif;
mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman'">执行</span><span lang="EN-US">SQL<o:p></o:p></span>
			</p>
			<p class="MsoNormal" style="margin-left:21.0pt"><span lang="EN-US"><span style="mso-spacerun:yes">&nbsp;&nbsp;&nbsp; </span>pstm.executeQuery(); <span style="mso-tab-count:1">&nbsp;&nbsp; </span>// </span><span style="font-family:'微软雅黑',sans-serif;
mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman'">执行更新时使用</span><span lang="EN-US">pstm.executeUpdate();<o:p></o:p></span>
			</p>
			<p class="MsoNormal" style="margin-left:21.0pt"><span lang="EN-US"><span style="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span style="font-family:'微软雅黑',sans-serif;
mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman'">此时</span><span lang="EN-US">JDBC</span><span style="font-family:'微软雅黑',sans-serif;mso-ascii-font-family:
'Times New Roman';mso-hansi-font-family:'Times New Roman'">将所有</span><span lang="EN-US">?</span><span style="font-family:'微软雅黑',sans-serif;mso-ascii-font-family:
'Times New Roman';mso-hansi-font-family:'Times New Roman'">对应的参数发送至数据库服务器，调用在共享池中由第一</span><span lang="EN-US"><o:p></o:p></span>
			</p>
			<p class="MsoNormal" style="margin-left:21.0pt"><span lang="EN-US"><span style="mso-spacerun:yes">&nbsp;&nbsp;&nbsp; </span></span><span style="font-family:'微软雅黑',sans-serif;
mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman'">步创建的预编译的</span><span lang="EN-US">SQL</span><span style="font-family:'微软雅黑',sans-serif;mso-ascii-font-family:
'Times New Roman';mso-hansi-font-family:'Times New Roman'">并执行。</span><span lang="EN-US"><o:p></o:p></span>
			</p>
			<p class="MsoNormal" style="margin-left:21.0pt;text-indent:-21.0pt;mso-list:l1 level1 lfo5"><strong style="mso-bidi-font-weight:normal"><span lang="EN-US" style="mso-fareast-font-family:
'Times New Roman'"><span style="mso-list:Ignore">2)<span style="font:7.0pt 'Times New Roman'">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span></span></strong><strong style="mso-bidi-font-weight:normal"><span lang="EN-US">PreparedStatement</span></strong><strong style="mso-bidi-font-weight:normal"><span style="font-family:'微软雅黑',sans-serif;mso-ascii-font-family:'Times New Roman';
mso-hansi-font-family:'Times New Roman'">的好处：</span><span lang="EN-US"><o:p></o:p></span></strong>
			</p>
			<p class="MsoNormal" style="margin-left:41.65pt;text-indent:-21.0pt;mso-list:
l6 level1 lfo4"><a name="_Toc248126433"><span lang="EN-US" style="font-family:Wingdings;mso-fareast-font-family:Wingdings;mso-bidi-font-family:
Wingdings"><span style="mso-list:Ignore">ü<span style="font:7.0pt 'Times New Roman'">&nbsp;</span></span></span><span style="font-family:'微软雅黑',sans-serif;
mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman'">预编译</span><span lang="EN-US">,</span></a><span style="mso-bookmark:_Toc248126433"><span style="font-family:'微软雅黑',sans-serif;mso-ascii-font-family:'Times New Roman';
mso-hansi-font-family:'Times New Roman'">执行同构</span><span lang="EN-US">SQL</span></span><span style="mso-bookmark:_Toc248126433"><span style="font-family:'微软雅黑',sans-serif;
mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman'">语句的效率高</span><span lang="EN-US"><o:p></o:p></span></span>
			</p>
			<p class="MsoNormal"><span style="mso-bookmark:_Toc248126433"><span lang="EN-US"><span style="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span><span style="mso-bookmark:
_Toc248126433"><span style="font-family:'微软雅黑',sans-serif;mso-ascii-font-family:
'Times New Roman';mso-hansi-font-family:'Times New Roman'">同构：两个</span><span lang="EN-US"> Sql </span></span><span style="mso-bookmark:_Toc248126433"><span style="font-family:'微软雅黑',sans-serif;mso-ascii-font-family:'Times New Roman';
mso-hansi-font-family:'Times New Roman'">语句可编译部分是相同的，只有参数值不同。</span><span lang="EN-US"><o:p></o:p></span></span>
			</p>
			<p class="MsoNormal"><span style="mso-bookmark:_Toc248126433"><span lang="EN-US"><span style="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span><span style="mso-bookmark:
_Toc248126433"><span style="font-family:'微软雅黑',sans-serif;mso-ascii-font-family:
'Times New Roman';mso-hansi-font-family:'Times New Roman'">异构：整个</span><span lang="EN-US"> sql </span></span><span style="mso-bookmark:_Toc248126433"><span style="font-family:'微软雅黑',sans-serif;mso-ascii-font-family:'Times New Roman';
mso-hansi-font-family:'Times New Roman'">语句的格式是不同的</span><span lang="EN-US"><o:p></o:p></span></span>
			</p>
			<p class="MsoNormal" style="margin-left:41.65pt;text-indent:-21.0pt;mso-list:
l6 level1 lfo4"><span style="mso-bookmark:_Toc248126433"><span lang="EN-US" style="font-family:Wingdings;mso-fareast-font-family:Wingdings;
mso-bidi-font-family:Wingdings"><span style="mso-list:Ignore">ü<span style="font:7.0pt 'Times New Roman'">&nbsp; </span></span></span><span style="font-family:'微软雅黑',sans-serif;mso-ascii-font-family:'Times New Roman';
mso-hansi-font-family:'Times New Roman'">避免拼</span><span lang="EN-US">SQL</span></span><span style="mso-bookmark:_Toc248126433"><span style="font-family:'微软雅黑',sans-serif;
mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman'">字符串带来的可读性及安全性的问题</span><strong style="mso-bidi-font-weight:normal"><span lang="EN-US"><o:p></o:p></span></strong></span>
			</p><span style="mso-bookmark:_Toc248126433"></span>
			<p class="MsoNormal" style="margin-left:21.0pt;text-indent:-21.0pt;mso-list:l1 level1 lfo5"><strong style="mso-bidi-font-weight:normal"><span lang="EN-US" style="mso-fareast-font-family:
'Times New Roman'"><span style="mso-list:Ignore">3)<span style="font:7.0pt 'Times New Roman'">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span></span></strong><strong style="mso-bidi-font-weight:normal"><span style="font-family:'微软雅黑',sans-serif;mso-ascii-font-family:'Times New Roman';
mso-hansi-font-family:'Times New Roman'">与</span><span lang="EN-US">Statement</span></strong><strong style="mso-bidi-font-weight:normal"><span style="font-family:'微软雅黑',sans-serif;
mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman'">的对比：</span><span lang="EN-US"><o:p></o:p></span></strong>
			</p>
			<table class="MsoNormalTable" border="1" cellspacing="0" cellpadding="0" style="margin-left:19.6pt;border-collapse:collapse;border:none;mso-border-alt:
 solid white 1.0pt;mso-yfti-tbllook:1184;mso-padding-alt:0cm 5.4pt 0cm 5.4pt;
 mso-border-insideh:.75pt solid white;mso-border-insidev:.75pt solid white"> 
				<tbody>
					<tr style="mso-yfti-irow:0;mso-yfti-firstrow:yes">&nbsp; 
						<td width="50" valign="top" style="width:37.45pt;border:solid white 1.0pt;
  border-bottom:solid white 3.0pt;background:#4BACC6;padding:0cm 5.4pt 0cm 5.4pt">&nbsp; 
							<p class="MsoNormal"><strong><span lang="EN-US" style="color:white"><o:p>&nbsp;</o:p></span></strong>
							</p>&nbsp; 
						</td>&nbsp; 
						<td width="215" valign="top" style="width:161.0pt;border-top:solid white 1.0pt;
  border-left:none;border-bottom:solid white 3.0pt;border-right:solid white 1.0pt;
  mso-border-left-alt:solid white 1.0pt;background:#4BACC6;padding:0cm 5.4pt 0cm 5.4pt">&nbsp; 
							<p class="MsoNormal" align="center" style="text-align:center"><strong><span lang="EN-US" style="color:white">Statement<o:p></o:p></span></strong>
							</p>&nbsp; 
						</td>&nbsp; 
						<td width="246" valign="top" style="width:184.25pt;border-top:solid white 1.0pt;
  border-left:none;border-bottom:solid white 3.0pt;border-right:solid white 1.0pt;
  mso-border-left-alt:solid white 1.0pt;background:#4BACC6;padding:0cm 5.4pt 0cm 5.4pt">&nbsp; 
							<p class="MsoNormal" align="center" style="text-align:center"><strong><span lang="EN-US" style="color:white">PreparedStatement<o:p></o:p></span></strong>
							</p>&nbsp; 
						</td> 
					</tr> 
					<tr style="mso-yfti-irow:1">&nbsp; 
						<td width="50" style="width:37.45pt;border-top:none;border-left:solid white 1.0pt;
  border-bottom:none;border-right:solid white 3.0pt;mso-border-top-alt:solid white 1.0pt;
  background:#4BACC6;padding:0cm 5.4pt 0cm 5.4pt">&nbsp; 
							<p class="MsoNormal" align="center" style="text-align:center"><strong><span style="font-family:'微软雅黑',sans-serif;mso-ascii-font-family:'Times New Roman';
  mso-hansi-font-family:'Times New Roman';color:white">关系</span><span lang="EN-US" style="color:white"><o:p></o:p></span></strong>
							</p>&nbsp; 
						</td>&nbsp; 
						<td width="215" valign="top" style="width:161.0pt;border-top:none;border-left:
  none;border-bottom:solid white 1.0pt;border-right:solid white 1.0pt;
  mso-border-top-alt:solid white 1.0pt;mso-border-left-alt:solid white 1.0pt;
  background:#A5D5E2;padding:0cm 5.4pt 0cm 5.4pt">&nbsp; 
							<p class="MsoNormal" align="center" style="text-align:center"><strong style="mso-bidi-font-weight:normal"><span style="font-family:'微软雅黑',sans-serif;
  mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman'">父接口</span><span lang="EN-US"><o:p></o:p></span></strong>
							</p>&nbsp; 
						</td>&nbsp; 
						<td width="246" valign="top" style="width:184.25pt;border-top:none;border-left:
  none;border-bottom:solid white 1.0pt;border-right:solid white 1.0pt;
  mso-border-top-alt:solid white 1.0pt;mso-border-left-alt:solid white 1.0pt;
  background:#A5D5E2;padding:0cm 5.4pt 0cm 5.4pt">&nbsp; 
							<p class="MsoNormal" align="center" style="text-align:center"><strong style="mso-bidi-font-weight:normal"><span style="font-family:'微软雅黑',sans-serif;
  mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman'">子接口</span><span lang="EN-US"><o:p></o:p></span></strong>
							</p>&nbsp; 
						</td> 
					</tr> 
					<tr style="mso-yfti-irow:2">&nbsp; 
						<td width="50" valign="top" style="width:37.45pt;border-top:solid white 1.0pt;
  border-left:solid white 1.0pt;border-bottom:none;border-right:solid white 3.0pt;
  mso-border-top-alt:solid white .75pt;mso-border-left-alt:solid white 1.0pt;
  mso-border-right-alt:solid white 3.0pt;background:#4BACC6;padding:0cm 5.4pt 0cm 5.4pt">&nbsp; 
							<p class="MsoNormal" align="center" style="text-align:center"><strong><span style="font-family:'微软雅黑',sans-serif;mso-ascii-font-family:'Times New Roman';
  mso-hansi-font-family:'Times New Roman';color:white">语法</span><span lang="EN-US" style="color:white"><o:p></o:p></span></strong>
							</p>&nbsp; 
						</td>&nbsp; 
						<td width="215" valign="top" style="width:161.0pt;border-top:none;border-left:
  none;border-bottom:solid white 1.0pt;border-right:solid white 1.0pt;
  mso-border-top-alt:solid white .75pt;mso-border-left-alt:solid white .75pt;
  mso-border-alt:solid white .75pt;background:#D2EAF1;padding:0cm 5.4pt 0cm 5.4pt">&nbsp; 
							<p class="MsoNormal"><strong style="mso-bidi-font-weight:normal"><span lang="EN-US">stm=conn.createStatement();<o:p></o:p></span></strong>
							</p>&nbsp; 
							<p class="MsoNormal"><strong style="mso-bidi-font-weight:normal"><span lang="EN-US">stm.executeUpdate(sql);<o:p></o:p></span></strong>
							</p>&nbsp; 
						</td>&nbsp; 
						<td width="246" valign="top" style="width:184.25pt;border-top:none;border-left:
  none;border-bottom:solid white 1.0pt;border-right:solid white 1.0pt;
  mso-border-top-alt:solid white .75pt;mso-border-left-alt:solid white .75pt;
  mso-border-alt:solid white .75pt;mso-border-right-alt:solid white 1.0pt;
  background:#D2EAF1;padding:0cm 5.4pt 0cm 5.4pt">&nbsp; 
							<p class="MsoNormal"><strong style="mso-bidi-font-weight:normal"><span lang="EN-US">String
&nbsp; sql=&quot;...?....&quot;;<o:p></o:p></span></strong>
							</p>&nbsp; 
							<p class="MsoNormal"><strong style="mso-bidi-font-weight:normal"><span lang="EN-US">pstm=conn.prepareStatement(sql);<o:p></o:p></span></strong>
							</p>&nbsp; 
							<p class="MsoNormal"><strong style="mso-bidi-font-weight:normal"><span lang="EN-US">pstm.set***(index,value);<o:p></o:p></span></strong>
							</p>&nbsp; 
							<p class="MsoNormal"><strong style="mso-bidi-font-weight:normal"><span lang="EN-US">pstm.executeUpdate();<o:p></o:p></span></strong>
							</p>&nbsp; 
						</td> 
					</tr> 
					<tr style="mso-yfti-irow:3">&nbsp; 
						<td width="50" valign="top" style="width:37.45pt;border-top:solid white 1.0pt;
  border-left:solid white 1.0pt;border-bottom:none;border-right:solid white 3.0pt;
  background:#4BACC6;padding:0cm 5.4pt 0cm 5.4pt">&nbsp; 
							<p class="MsoNormal" align="center" style="text-align:center"><strong><span style="font-family:'微软雅黑',sans-serif;mso-ascii-font-family:'Times New Roman';
  mso-hansi-font-family:'Times New Roman';color:white">安全</span><span lang="EN-US" style="color:white"><o:p></o:p></span></strong>
							</p>&nbsp; 
						</td>&nbsp; 
						<td width="215" valign="top" style="width:161.0pt;border-top:none;border-left:
  none;border-bottom:solid white 1.0pt;border-right:solid white 1.0pt;
  mso-border-top-alt:solid white 1.0pt;mso-border-left-alt:solid white 1.0pt;
  background:#A5D5E2;padding:0cm 5.4pt 0cm 5.4pt">&nbsp; 
							<p class="MsoNormal" align="center" style="text-align:center"><strong style="mso-bidi-font-weight:normal"><span style="font-family:'微软雅黑',sans-serif;
  mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman'">存在安全注入隐患</span><span lang="EN-US"><o:p></o:p></span></strong>
							</p>&nbsp; 
						</td>&nbsp; 
						<td width="246" valign="top" style="width:184.25pt;border-top:none;border-left:
  none;border-bottom:solid white 1.0pt;border-right:solid white 1.0pt;
  mso-border-top-alt:solid white 1.0pt;mso-border-left-alt:solid white 1.0pt;
  background:#A5D5E2;padding:0cm 5.4pt 0cm 5.4pt">&nbsp; 
							<p class="MsoNormal" align="center" style="text-align:center"><strong style="mso-bidi-font-weight:normal"><span style="font-family:'微软雅黑',sans-serif;
  mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman'">解决了</span><span lang="EN-US">SQL</span></strong><strong style="mso-bidi-font-weight:normal"><span style="font-family:'微软雅黑',sans-serif;mso-ascii-font-family:'Times New Roman';
  mso-hansi-font-family:'Times New Roman'">注入问题</span><span lang="EN-US"><o:p></o:p></span></strong>
							</p>&nbsp; 
						</td> 
					</tr> 
					<tr style="mso-yfti-irow:4;mso-yfti-lastrow:yes">&nbsp; 
						<td width="50" valign="top" style="width:37.45pt;border:solid white 1.0pt;
  border-right:solid white 3.0pt;mso-border-top-alt:.75pt;mso-border-left-alt:
  1.0pt;mso-border-bottom-alt:1.0pt;mso-border-right-alt:3.0pt;mso-border-color-alt:
  white;mso-border-style-alt:solid;background:#4BACC6;padding:0cm 5.4pt 0cm 5.4pt">&nbsp; 
							<p class="MsoNormal" align="center" style="text-align:center"><strong><span style="font-family:'微软雅黑',sans-serif;mso-ascii-font-family:'Times New Roman';
  mso-hansi-font-family:'Times New Roman';color:white">效率</span><span lang="EN-US" style="color:white"><o:p></o:p></span></strong>
							</p>&nbsp; 
						</td>&nbsp; 
						<td width="215" valign="top" style="width:161.0pt;border-top:none;border-left:
  none;border-bottom:solid white 1.0pt;border-right:solid white 1.0pt;
  mso-border-top-alt:solid white .75pt;mso-border-left-alt:solid white .75pt;
  mso-border-alt:solid white .75pt;mso-border-bottom-alt:solid white 1.0pt;
  background:#D2EAF1;padding:0cm 5.4pt 0cm 5.4pt">&nbsp; 
							<p class="MsoNormal" align="center" style="text-align:center"><strong style="mso-bidi-font-weight:normal"><span style="font-family:'微软雅黑',sans-serif;
  mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman'">执行异构</span><span lang="EN-US">SQL</span></strong><strong style="mso-bidi-font-weight:normal"><span style="font-family:'微软雅黑',sans-serif;mso-ascii-font-family:'Times New Roman';
  mso-hansi-font-family:'Times New Roman'">效率较高</span><span lang="EN-US"><o:p></o:p></span></strong>
							</p>&nbsp; 
						</td>&nbsp; 
						<td width="246" valign="top" style="width:184.25pt;border-top:none;border-left:
  none;border-bottom:solid white 1.0pt;border-right:solid white 1.0pt;
  mso-border-top-alt:solid white .75pt;mso-border-left-alt:solid white .75pt;
  background:#D2EAF1;padding:0cm 5.4pt 0cm 5.4pt">&nbsp; 
							<p class="MsoNormal" align="center" style="text-align:center"><strong style="mso-bidi-font-weight:normal"><span style="font-family:'微软雅黑',sans-serif;
  mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman'">执行同构</span><span lang="EN-US">SQL</span></strong><strong style="mso-bidi-font-weight:normal"><span style="font-family:'微软雅黑',sans-serif;mso-ascii-font-family:'Times New Roman';
  mso-hansi-font-family:'Times New Roman'">效率较高</span><span lang="EN-US"><o:p></o:p></span></strong>
							</p>&nbsp; 
						</td> 
					</tr>
				</tbody>
			</table>
			<h4 style="margin-left:21.0pt;text-indent:-21.0pt;mso-list:l0 level1 lfo1;
tab-stops:list 21.0pt"><span lang="EN-US" style="font-family:
'Times New Roman',serif;mso-fareast-font-family:'Times New Roman'"><span style="mso-list:Ignore">3.<span style="font:7.0pt 'Times New Roman'">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span></span><span style="font-family:'微软雅黑',sans-serif;
mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman'">开发中常见技巧【重点】</span><span lang="EN-US" style="font-family:'Times New Roman',serif;mso-fareast-font-family:
微软雅黑"><o:p></o:p></span>
			</h4>
			<p class="MsoNormal" style="margin-left:42.0pt;text-indent:-21.0pt;mso-list:l9 level2 lfo6"><strong style="mso-bidi-font-weight:normal"><span lang="EN-US" style="font-size:12.0pt;
font-family:'微软雅黑',sans-serif;mso-bidi-font-family:微软雅黑"><span style="mso-list:Ignore">a)<span style="font:7.0pt 'Times New Roman'">&nbsp;&nbsp;&nbsp;</span></span></span></strong><strong style="mso-bidi-font-weight:normal"><span style="font-size:12.0pt;font-family:'微软雅黑',sans-serif">日期数据处理<span lang="EN-US"><o:p></o:p></span></span></strong>
			</p>
			<p class="MsoNormal" style="margin-left:21.0pt"><span style="font-family:'微软雅黑',sans-serif;
mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman'">对于日期来说，经常涉及的操作主要有以下几种操作：</span><span lang="EN-US"><o:p></o:p></span>
			</p>
			<p class="MsoNormal" style="margin-left:42.0pt;text-indent:-21.0pt;mso-list:l7 level2 lfo8"><span lang="EN-US" style="font-family:Wingdings;mso-fareast-font-family:Wingdings;
mso-bidi-font-family:Wingdings"><span style="mso-list:Ignore">n<span style="font:7.0pt 'Times New Roman'">&nbsp; </span></span></span><span style="font-family:'微软雅黑',sans-serif;mso-ascii-font-family:'Times New Roman';
mso-hansi-font-family:'Times New Roman'">如何得到一个</span><span lang="EN-US">java.util.Date</span><span style="font-family:'微软雅黑',sans-serif;mso-ascii-font-family:'Times New Roman';
mso-hansi-font-family:'Times New Roman'">对象</span><span lang="EN-US"><o:p></o:p></span>
			</p>
			<p class="MsoNormal" style="margin-left:21.0pt"><span lang="EN-US"><span style="mso-spacerun:yes">&nbsp;&nbsp;&nbsp; </span></span><span style="font-family:'微软雅黑',sans-serif;
mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman'">方法</span><span lang="EN-US">1</span><span style="font-family:'微软雅黑',sans-serif;mso-ascii-font-family:
'Times New Roman';mso-hansi-font-family:'Times New Roman'">，从字符串转换为日期</span><span lang="EN-US"><o:p></o:p></span>
			</p>
			<p class="MsoNormal" style="margin-left:21.0pt"><span lang="EN-US"><span style="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>String dateStr = &quot;<st1:chsdate isrocdate="False" islunardate="False" day="10" month="10" year="1999" w:st="on">1999-10-10</st1:chsdate>&quot;;<o:p></o:p></span>
			</p>
			<p class="MsoNormal" style="margin-left:21.0pt"><span lang="EN-US"><span style="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>SimpleDateFormat sdf = new
SimpleDateFormat(&quot;yyyy-MM-dd&quot;);<o:p></o:p></span>
			</p>
			<p class="MsoNormal" style="margin-left:21.0pt"><span lang="EN-US"><span style="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>java.util.Date d = sdf.parse(dateStr);<o:p></o:p></span>
			</p>
			<p class="MsoNormal" style="margin-left:21.0pt"><span lang="EN-US"><span style="mso-spacerun:yes">&nbsp;&nbsp;&nbsp; </span></span><span style="font-family:'微软雅黑',sans-serif;
mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman'">方法</span><span lang="EN-US">2</span><span style="font-family:'微软雅黑',sans-serif;mso-ascii-font-family:
'Times New Roman';mso-hansi-font-family:'Times New Roman'">，从日历对象得到日期</span><span lang="EN-US"><o:p></o:p></span>
			</p>
			<p class="MsoNormal" style="margin-left:21.0pt"><span lang="EN-US"><span style="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Calendar c = Calendar.getInstance(); // </span><span style="font-family:'微软雅黑',sans-serif;mso-ascii-font-family:'Times New Roman';
mso-hansi-font-family:'Times New Roman'">日历对象</span><span lang="EN-US"><o:p></o:p></span>
			</p>
			<p class="MsoNormal" style="margin-left:21.0pt"><span lang="EN-US"><span style="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>c.set(Calendar.YEAR, 1999);<o:p></o:p></span>
			</p>
			<p class="MsoNormal" style="margin-left:21.0pt"><span lang="EN-US"><span style="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>c.set(Calendar.MONTH, 9); // </span><span style="font-family:'微软雅黑',sans-serif;mso-ascii-font-family:'Times New Roman';
mso-hansi-font-family:'Times New Roman'">月份从</span><span lang="EN-US">0</span><span style="font-family:'微软雅黑',sans-serif;mso-ascii-font-family:'Times New Roman';
mso-hansi-font-family:'Times New Roman'">开始</span><span lang="EN-US"><o:p></o:p></span>
			</p>
			<p class="MsoNormal" style="margin-left:21.0pt"><span lang="EN-US"><span style="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>c.set(Calendar.DATE, 10);<o:p></o:p></span>
			</p>
			<p class="MsoNormal" style="margin-left:21.0pt"><span lang="EN-US"><span style="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>java.util.Date d2 = c.getTime();<o:p></o:p></span>
			</p>
			<p class="MsoNormal" style="margin-left:21.0pt"><span lang="EN-US"><span style="mso-spacerun:yes">&nbsp;&nbsp;&nbsp; </span></span><span style="font-family:'微软雅黑',sans-serif;
mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman'">方法</span><span lang="EN-US">3</span><span style="font-family:'微软雅黑',sans-serif;mso-ascii-font-family:
'Times New Roman';mso-hansi-font-family:'Times New Roman'">，从一个毫秒值得到日期</span><span lang="EN-US"><o:p></o:p></span>
			</p>
			<p class="MsoNormal"><span lang="EN-US"><span style="mso-tab-count:1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>java.util.Date d3 = new
java.util.Date(System.currentTimeMillis()));<o:p></o:p></span>
			</p>
			<p class="MsoNormal" style="margin-left:42.0pt;text-indent:-21.0pt;mso-list:l7 level2 lfo8"><span lang="EN-US" style="font-family:Wingdings;mso-fareast-font-family:Wingdings;
mso-bidi-font-family:Wingdings"><span style="mso-list:Ignore">n<span style="font:7.0pt 'Times New Roman'">&nbsp; </span></span></span><span style="font-family:'微软雅黑',sans-serif;mso-ascii-font-family:'Times New Roman';
mso-hansi-font-family:'Times New Roman'">如何得到一个</span><span lang="EN-US">java.sql.Date</span><span style="font-family:'微软雅黑',sans-serif;mso-ascii-font-family:'Times New Roman';
mso-hansi-font-family:'Times New Roman'">对象（获得</span><span lang="EN-US">java.sql.Time,
java.sql.Timestamp</span><span style="font-family:'微软雅黑',sans-serif;mso-ascii-font-family:
'Times New Roman';mso-hansi-font-family:'Times New Roman'">与此类似）</span><span lang="EN-US"><o:p></o:p></span>
			</p>
			<p class="MsoNormal"><span lang="EN-US"><span style="mso-tab-count:1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="mso-spacerun:yes">&nbsp;&nbsp; </span>long time = new java.util.Date().getTime();<span style="mso-spacerun:yes">&nbsp; </span>// </span><span style="font-family:'微软雅黑',sans-serif;
mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman'">拿到毫秒时</span><span lang="EN-US"><o:p></o:p></span>
			</p>
			<p class="MsoNormal"><span lang="EN-US"><span style="mso-tab-count:1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="mso-spacerun:yes">&nbsp;&nbsp; </span>java.sql.Date sd = new java.sql.Date(time);<span style="mso-spacerun:yes">&nbsp;&nbsp; </span>// </span><span style="font-family:'微软雅黑',sans-serif;
mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman'">通过毫秒值构造子类型对象</span><span lang="EN-US"><o:p></o:p></span>
			</p>
			<p class="MsoNormal" style="margin-left:42.0pt;text-indent:-21.0pt;mso-list:l7 level2 lfo8"><span lang="EN-US" style="font-family:Wingdings;mso-fareast-font-family:Wingdings;
mso-bidi-font-family:Wingdings"><span style="mso-list:Ignore">n<span style="font:7.0pt 'Times New Roman'">&nbsp; </span></span></span><span style="font-family:'微软雅黑',sans-serif;mso-ascii-font-family:'Times New Roman';
mso-hansi-font-family:'Times New Roman'">如何得到一个字符串时间值</span><span lang="EN-US"><o:p></o:p></span>
			</p>
			<p class="MsoNormal"><span lang="EN-US"><span style="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>java.util.Date<span style="mso-spacerun:yes">&nbsp; </span>date = new
java.util.Date();<o:p></o:p></span>
			</p>
			<p class="MsoNormal"><span lang="EN-US"><span style="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>SimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);<o:p></o:p></span>
			</p>
			<p class="MsoNormal"><span lang="EN-US"><span style="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>String time = sdf.format(date);<o:p></o:p></span>
			</p>
			<p class="MsoNormal" style="margin-left:42.0pt;text-indent:-21.0pt;mso-list:l8 level1 lfo9"><strong style="mso-bidi-font-weight:normal"><span lang="EN-US" style="mso-fareast-font-family:
'Times New Roman'"><span style="mso-list:Ignore">b)<span style="font:7.0pt 'Times New Roman'">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span></span></strong><strong style="mso-bidi-font-weight:normal"><span style="font-size:12.0pt;font-family:'微软雅黑',sans-serif;mso-ascii-font-family:
'Times New Roman';mso-hansi-font-family:'Times New Roman'">空值处理</span><span lang="EN-US"><o:p></o:p></span></strong>
			</p>
			<p class="MsoNormal" style="text-indent:21.0pt"><span lang="EN-US"><span style="mso-spacerun:yes">&nbsp;&nbsp;&nbsp; </span></span><span style="font-family:'微软雅黑',sans-serif;
mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman'">对于</span><span lang="EN-US">PreparedStatement</span><span style="font-family:'微软雅黑',sans-serif;
mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman'">来说，如果要设置某个</span><span lang="EN-US">?</span><span style="font-family:'微软雅黑',sans-serif;mso-ascii-font-family:
'Times New Roman';mso-hansi-font-family:'Times New Roman'">取值为</span><span lang="EN-US">null</span><span style="font-family:'微软雅黑',sans-serif;mso-ascii-font-family:
'Times New Roman';mso-hansi-font-family:'Times New Roman'">，需要做如下操作：</span><span lang="EN-US"><o:p></o:p></span>
			</p>
			<p class="MsoNormal" style="margin-left:62.95pt;text-indent:-21.0pt;mso-list:
l3 level1 lfo7"><span lang="EN-US" style="font-family:Wingdings;
mso-fareast-font-family:Wingdings;mso-bidi-font-family:Wingdings"><span style="mso-list:Ignore">l<span style="font:7.0pt 'Times New Roman'">&nbsp; </span></span></span><span lang="EN-US">pstm.setObject(4, null); // </span><span style="font-family:'微软雅黑',sans-serif;
mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman'">这种较好理解，建议使用</span><span lang="EN-US"><o:p></o:p></span>
			</p>
			<p class="MsoNormal" style="margin-left:62.95pt;text-indent:-21.0pt;mso-list:
l3 level1 lfo7"><span lang="EN-US" style="font-family:Wingdings;
mso-fareast-font-family:Wingdings;mso-bidi-font-family:Wingdings"><span style="mso-list:Ignore">l<span style="font:7.0pt 'Times New Roman'">&nbsp; </span></span></span><span lang="EN-US">pstm.setNull(4, java.sql.Types.DECIMAL); <o:p></o:p></span>
			</p>
			<p class="MsoNormal" style="margin-left:62.95pt"><span lang="EN-US">// </span><span style="font-family:'微软雅黑',sans-serif;mso-ascii-font-family:'Times New Roman';
mso-hansi-font-family:'Times New Roman'">第</span><span lang="EN-US">2</span><span style="font-family:'微软雅黑',sans-serif;mso-ascii-font-family:'Times New Roman';
mso-hansi-font-family:'Times New Roman'">参数为</span><span lang="EN-US">?</span><span style="font-family:'微软雅黑',sans-serif;mso-ascii-font-family:'Times New Roman';
mso-hansi-font-family:'Times New Roman'">对应列的数据类型，常量</span><span lang="EN-US"><o:p></o:p></span>
			</p>
			<p class="MsoNormal" style="margin-left:42.0pt;text-indent:-21.0pt;mso-list:l4 level1 lfo10"><strong style="mso-bidi-font-weight:normal"><span lang="EN-US" style="font-size:12.0pt;
mso-fareast-font-family:'Times New Roman'"><span style="mso-list:Ignore">c)<span style="font:7.0pt 'Times New Roman'">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span></span></strong><strong style="mso-bidi-font-weight:normal"><span style="font-size:12.0pt;font-family:'微软雅黑',sans-serif;mso-ascii-font-family:
'Times New Roman';mso-hansi-font-family:'Times New Roman'">关于模糊查询</span></strong><strong style="mso-bidi-font-weight:normal"><span lang="EN-US" style="font-size:12.0pt"><o:p></o:p></span></strong>
			</p>
			<p class="MsoNormal" style="margin-left:21.0pt"><span lang="EN-US"><span style="mso-spacerun:yes">&nbsp;&nbsp;&nbsp; </span></span><span style="font-family:'微软雅黑',sans-serif;
mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman'">如果查询语句中需要做模糊查询，那么需要按下面方式处理：</span><span lang="EN-US"><o:p></o:p></span>
			</p>
			<p class="MsoNormal" style="margin-left:21.0pt"><span lang="EN-US"><span style="mso-spacerun:yes">&nbsp;&nbsp;&nbsp; </span></span><span style="font-family:'微软雅黑',sans-serif;
mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman'">例：</span><span lang="EN-US"> String sql=&quot; select * from emp where ename like ?&quot;; <o:p></o:p></span>
			</p>
			<p class="MsoNormal" style="margin-left:21.0pt"><span lang="EN-US"><span style="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>PreparedStatement pstm =
conn.prepareStatement(sql);<o:p></o:p></span>
			</p>
			<p class="MsoNormal" style="margin-left:21.0pt"><span lang="EN-US"><span style="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>pstm.setString(1,&quot;%M%&quot;);<o:p></o:p></span>
			</p>
			<p class="MsoNormal" style="margin-left:21.0pt"><span lang="EN-US"><span style="mso-spacerun:yes">&nbsp;&nbsp;&nbsp; </span></span><span style="font-family:'微软雅黑',sans-serif;
mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman'">强调：</span><span lang="EN-US">%</span><span style="font-family:'微软雅黑',sans-serif;mso-ascii-font-family:
'Times New Roman';mso-hansi-font-family:'Times New Roman'">的位置不是写在</span><span lang="EN-US">?</span><span style="font-family:'微软雅黑',sans-serif;mso-ascii-font-family:
'Times New Roman';mso-hansi-font-family:'Times New Roman'">附近，而是通过</span><span lang="EN-US">setString</span><span style="font-family:'微软雅黑',sans-serif;
mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman'">方法调用时传入</span><span lang="EN-US"><o:p></o:p></span>
			</p>
			<p class="MsoNormal"><span lang="EN-US"><o:p>&nbsp;</o:p></span>
			</p>
		</div>
	
<script type="text/javascript" language="javascript" src="jquery.js"></script>
<script type="text/javascript" language="javascript" src="itemlink.js"></script></body>
</html>